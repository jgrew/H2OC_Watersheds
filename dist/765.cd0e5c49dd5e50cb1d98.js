(self.webpackChunkh2oc=self.webpackChunkh2oc||[]).push([[765],{85077:(e,t)=>{var r;void 0===(r=function(e){"use strict";function r(){return[1,0,0,0,1,0,0,0,1]}function o(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}function n(e,t,r,o,n,i,a,l,s){return[e,t,r,o,n,i,a,l,s]}function i(e,t){return new Float64Array(e,t,9)}var a=Object.freeze({__proto__:null,create:r,clone:o,fromValues:n,createView:i});t.clone=o,t.create=r,t.createView=i,t.fromValues=n,t.mat3f64=a}.apply(t,[t]))||(e.exports=r)},72742:(e,t,r)=>{var o,n;o=[t,r(14360),r(99086),r(16843),r(85077),r(15727),r(89115)],void 0===(n=function(e,r,o,n,i,a,l){"use strict";function s(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function u(e,t,r){r*=.5;const o=Math.sin(r);return e[0]=o*t[0],e[1]=o*t[1],e[2]=o*t[2],e[3]=Math.cos(r),e}function c(e,t){const r=2*Math.acos(t[3]),n=Math.sin(r/2);return n>o.EPSILON?(e[0]=t[0]/n,e[1]=t[1]/n,e[2]=t[2]/n):(e[0]=1,e[1]=0,e[2]=0),r}function f(e,t,r){const o=t[0],n=t[1],i=t[2],a=t[3],l=r[0],s=r[1],u=r[2],c=r[3];return e[0]=o*c+a*l+n*u-i*s,e[1]=n*c+a*s+i*l-o*u,e[2]=i*c+a*u+o*s-n*l,e[3]=a*c-o*l-n*s-i*u,e}function p(e,t,r){r*=.5;const o=t[0],n=t[1],i=t[2],a=t[3],l=Math.sin(r),s=Math.cos(r);return e[0]=o*s+a*l,e[1]=n*s+i*l,e[2]=i*s-n*l,e[3]=a*s-o*l,e}function d(e,t,r){r*=.5;const o=t[0],n=t[1],i=t[2],a=t[3],l=Math.sin(r),s=Math.cos(r);return e[0]=o*s-i*l,e[1]=n*s+a*l,e[2]=i*s+o*l,e[3]=a*s-n*l,e}function y(e,t,r){r*=.5;const o=t[0],n=t[1],i=t[2],a=t[3],l=Math.sin(r),s=Math.cos(r);return e[0]=o*s+n*l,e[1]=n*s-o*l,e[2]=i*s+a*l,e[3]=a*s-i*l,e}function h(e,t){const r=t[0],o=t[1],n=t[2];return e[0]=r,e[1]=o,e[2]=n,e[3]=Math.sqrt(Math.abs(1-r*r-o*o-n*n)),e}function b(e,t,r,n){const i=t[0],a=t[1],l=t[2],s=t[3];let u,c,f,p,d,y=r[0],h=r[1],b=r[2],m=r[3];return c=i*y+a*h+l*b+s*m,c<0&&(c=-c,y=-y,h=-h,b=-b,m=-m),1-c>o.EPSILON?(u=Math.acos(c),f=Math.sin(u),p=Math.sin((1-n)*u)/f,d=Math.sin(n*u)/f):(p=1-n,d=n),e[0]=p*i+d*y,e[1]=p*a+d*h,e[2]=p*l+d*b,e[3]=p*s+d*m,e}function m(e){const t=o.RANDOM(),r=o.RANDOM(),n=o.RANDOM(),i=Math.sqrt(1-t),a=Math.sqrt(t);return e[0]=i*Math.sin(2*Math.PI*r),e[1]=i*Math.cos(2*Math.PI*r),e[2]=a*Math.sin(2*Math.PI*n),e[3]=a*Math.cos(2*Math.PI*n),e}function v(e,t){const r=t[0],o=t[1],n=t[2],i=t[3],a=r*r+o*o+n*n+i*i,l=a?1/a:0;return e[0]=-r*l,e[1]=-o*l,e[2]=-n*l,e[3]=i*l,e}function g(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function w(e,t){const r=t[0]+t[4]+t[8];let o;if(r>0)o=Math.sqrt(r+1),e[3]=.5*o,o=.5/o,e[0]=(t[5]-t[7])*o,e[1]=(t[6]-t[2])*o,e[2]=(t[1]-t[3])*o;else{let r=0;t[4]>t[0]&&(r=1),t[8]>t[3*r+r]&&(r=2);const n=(r+1)%3,i=(r+2)%3;o=Math.sqrt(t[3*r+r]-t[3*n+n]-t[3*i+i]+1),e[r]=.5*o,o=.5/o,e[3]=(t[3*n+i]-t[3*i+n])*o,e[n]=(t[3*n+r]+t[3*r+n])*o,e[i]=(t[3*i+r]+t[3*r+i])*o}return e}function _(e,t,r,o){const n=.5*Math.PI/180;t*=n,r*=n,o*=n;const i=Math.sin(t),a=Math.cos(t),l=Math.sin(r),s=Math.cos(r),u=Math.sin(o),c=Math.cos(o);return e[0]=i*s*c-a*l*u,e[1]=a*l*c+i*s*u,e[2]=a*s*u-i*l*c,e[3]=a*s*c+i*l*u,e}function M(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}const S=l.copy,A=l.set,C=l.add,I=f,x=l.scale,T=l.dot,V=l.lerp,O=l.length,z=O,U=l.squaredLength,P=U,j=l.normalize,F=l.exactEquals,B=l.equals;function q(e,t,r){const o=n.dot(t,r);return o<-.999999?(n.cross(D,N,t),n.len(D)<1e-6&&n.cross(D,k,t),n.normalize(D,D),u(e,D,Math.PI),e):o>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(n.cross(D,t,r),e[0]=D[0],e[1]=D[1],e[2]=D[2],e[3]=1+o,j(e,e))}const D=r.create(),N=r.fromValues(1,0,0),k=r.fromValues(0,1,0);function L(e,t,r,o,n,i){return b(R,t,n,i),b(E,r,o,i),b(e,R,E,2*i*(1-i)),e}const R=a.create(),E=a.create();function Y(e,t,r,o){const n=Z;return n[0]=r[0],n[3]=r[1],n[6]=r[2],n[1]=o[0],n[4]=o[1],n[7]=o[2],n[2]=-t[0],n[5]=-t[1],n[8]=-t[2],j(e,w(e,n))}const Z=i.create();var X=Object.freeze({__proto__:null,identity:s,setAxisAngle:u,getAxisAngle:c,multiply:f,rotateX:p,rotateY:d,rotateZ:y,calculateW:h,slerp:b,random:m,invert:v,conjugate:g,fromMat3:w,fromEuler:_,str:M,copy:S,set:A,add:C,mul:I,scale:x,dot:T,lerp:V,length:O,len:z,squaredLength:U,sqrLen:P,normalize:j,exactEquals:F,equals:B,rotationTo:q,sqlerp:L,setAxes:Y});t.add=C,t.calculateW=h,t.conjugate=g,t.copy=S,t.dot=T,t.equals=B,t.exactEquals=F,t.fromEuler=_,t.fromMat3=w,t.getAxisAngle=c,t.identity=s,t.invert=v,t.len=z,t.length=O,t.lerp=V,t.mul=I,t.multiply=f,t.normalize=j,t.quat=X,t.random=m,t.rotateX=p,t.rotateY=d,t.rotateZ=y,t.rotationTo=q,t.scale=x,t.set=A,t.setAxes=Y,t.setAxisAngle=u,t.slerp=b,t.sqlerp=L,t.sqrLen=P,t.squaredLength=U,t.str=M}.apply(t,o))||(e.exports=n)},74326:(e,t)=>{var r;void 0===(r=function(e){"use strict";function r(){const e=new Float32Array(4);return e[3]=1,e}function o(e){const t=new Float32Array(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function n(e,t,r,o){const n=new Float32Array(4);return n[0]=e,n[1]=t,n[2]=r,n[3]=o,n}function i(e,t){return new Float32Array(e,t,4)}var a=Object.freeze({__proto__:null,create:r,clone:o,fromValues:n,createView:i});t.clone=o,t.create=r,t.createView=i,t.fromValues=n,t.quatf32=a}.apply(t,[t]))||(e.exports=r)},15727:(e,t)=>{var r;void 0===(r=function(e){"use strict";function r(){return[0,0,0,1]}function o(e){return[e[0],e[1],e[2],e[3]]}function n(e,t,r,o){return[e,t,r,o]}function i(e,t){return new Float64Array(e,t,4)}const a=[0,0,0,1];var l=Object.freeze({__proto__:null,create:r,clone:o,fromValues:n,createView:i,IDENTITY:a});t.IDENTITY=a,t.clone=o,t.create=r,t.createView=i,t.fromValues=n,t.quatf64=l}.apply(t,[t]))||(e.exports=r)},43167:(e,t)=>{var r;void 0===(r=function(e){"use strict";function r(){return new Float32Array(3)}function o(e){const t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function n(e,t,r){const o=new Float32Array(3);return o[0]=e,o[1]=t,o[2]=r,o}function i(e,t){return new Float32Array(e,t,3)}function a(){return r()}function l(){return n(1,1,1)}function s(){return n(1,0,0)}function u(){return n(0,1,0)}function c(){return n(0,0,1)}const f=a(),p=l(),d=s(),y=u(),h=c();var b=Object.freeze({__proto__:null,create:r,clone:o,fromValues:n,createView:i,zeros:a,ones:l,unitX:s,unitY:u,unitZ:c,ZEROS:f,ONES:p,UNIT_X:d,UNIT_Y:y,UNIT_Z:h});t.ONES=p,t.UNIT_X=d,t.UNIT_Y=y,t.UNIT_Z=h,t.ZEROS=f,t.clone=o,t.create=r,t.createView=i,t.fromValues=n,t.ones=l,t.unitX=s,t.unitY=u,t.unitZ=c,t.vec3f32=b,t.zeros=a}.apply(t,[t]))||(e.exports=r)},89115:(e,t,r)=>{var o,n;o=[t,r(99086)],void 0===(n=function(e,r){"use strict";function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function n(e,t,r,o,n){return e[0]=t,e[1]=r,e[2]=o,e[3]=n,e}function i(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function a(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function l(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function s(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function u(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function c(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function f(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function p(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function d(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function y(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function h(e,t,r,o){return e[0]=t[0]+r[0]*o,e[1]=t[1]+r[1]*o,e[2]=t[2]+r[2]*o,e[3]=t[3]+r[3]*o,e}function b(e,t){const r=t[0]-e[0],o=t[1]-e[1],n=t[2]-e[2],i=t[3]-e[3];return Math.sqrt(r*r+o*o+n*n+i*i)}function m(e,t){const r=t[0]-e[0],o=t[1]-e[1],n=t[2]-e[2],i=t[3]-e[3];return r*r+o*o+n*n+i*i}function v(e){const t=e[0],r=e[1],o=e[2],n=e[3];return Math.sqrt(t*t+r*r+o*o+n*n)}function g(e){const t=e[0],r=e[1],o=e[2],n=e[3];return t*t+r*r+o*o+n*n}function w(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function _(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function M(e,t){const r=t[0],o=t[1],n=t[2],i=t[3];let a=r*r+o*o+n*n+i*i;return a>0&&(a=1/Math.sqrt(a),e[0]=r*a,e[1]=o*a,e[2]=n*a,e[3]=i*a),e}function S(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function A(e,t,r,o){const n=t[0],i=t[1],a=t[2],l=t[3];return e[0]=n+o*(r[0]-n),e[1]=i+o*(r[1]-i),e[2]=a+o*(r[2]-a),e[3]=l+o*(r[3]-l),e}function C(e,t){let o,n,i,a,l,s;t=t||1;do{o=2*r.RANDOM()-1,n=2*r.RANDOM()-1,l=o*o+n*n}while(l>=1);do{i=2*r.RANDOM()-1,a=2*r.RANDOM()-1,s=i*i+a*a}while(s>=1);const u=Math.sqrt((1-l)/s);return e[0]=t*o,e[1]=t*n,e[2]=t*i*u,e[3]=t*a*u,e}function I(e,t,r){const o=t[0],n=t[1],i=t[2],a=t[3];return e[0]=r[0]*o+r[4]*n+r[8]*i+r[12]*a,e[1]=r[1]*o+r[5]*n+r[9]*i+r[13]*a,e[2]=r[2]*o+r[6]*n+r[10]*i+r[14]*a,e[3]=r[3]*o+r[7]*n+r[11]*i+r[15]*a,e}function x(e,t,r){const o=t[0],n=t[1],i=t[2],a=r[0],l=r[1],s=r[2],u=r[3],c=u*o+l*i-s*n,f=u*n+s*o-a*i,p=u*i+a*n-l*o,d=-a*o-l*n-s*i;return e[0]=c*u+d*-a+f*-s-p*-l,e[1]=f*u+d*-l+p*-a-c*-s,e[2]=p*u+d*-s+c*-l-f*-a,e[3]=t[3],e}function T(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function V(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function O(e,t){const o=e[0],n=e[1],i=e[2],a=e[3],l=t[0],s=t[1],u=t[2],c=t[3];return Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-c)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))}let z=a,U=l,P=s,j=b,F=m,B=v,q=g;var D=Object.freeze({__proto__:null,copy:o,set:n,add:i,subtract:a,multiply:l,divide:s,ceil:u,floor:c,min:f,max:p,round:d,scale:y,scaleAndAdd:h,distance:b,squaredDistance:m,length:v,squaredLength:g,negate:w,inverse:_,normalize:M,dot:S,lerp:A,random:C,transformMat4:I,transformQuat:x,str:T,exactEquals:V,equals:O,sub:z,mul:U,div:P,dist:j,sqrDist:F,len:B,sqrLen:q});t.add=i,t.ceil=u,t.copy=o,t.dist=j,t.distance=b,t.div=P,t.divide=s,t.dot=S,t.equals=O,t.exactEquals=V,t.floor=c,t.inverse=_,t.len=B,t.length=v,t.lerp=A,t.max=p,t.min=f,t.mul=U,t.multiply=l,t.negate=w,t.normalize=M,t.random=C,t.round=d,t.scale=y,t.scaleAndAdd=h,t.set=n,t.sqrDist=F,t.sqrLen=q,t.squaredDistance=m,t.squaredLength=g,t.str=T,t.sub=z,t.subtract=a,t.transformMat4=I,t.transformQuat=x,t.vec4=D}.apply(t,o))||(e.exports=n)},65758:(e,t,r)=>{var o,n;o=[r(58797),r(11285),r(74637),r(92231),r(73462),r(67059),r(26475),r(12187),r(99752),r(4037),r(51916),r(18377),r(89729),r(50762),r(29623)],void 0===(n=function(e,t,r,o,n,i,a,l,s,u,c,f,p,d,y){"use strict";var h;let b=h=function(t){function r(e){var r;return(r=t.call(this,e)||this).type="point-cloud-class-breaks",r.field=null,r.legendOptions=null,r.fieldTransformType=null,r.colorClassBreakInfos=null,r}return e._inheritsLoose(r,t),r.prototype.clone=function(){return new h({...this.cloneProperties(),field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:o.clone(this.colorClassBreakInfos),legendOptions:o.clone(this.legendOptions)})},r}(p);return t.__decorate([l.enumeration({pointCloudClassBreaksRenderer:"point-cloud-class-breaks"})],b.prototype,"type",void 0),t.__decorate([a.property({json:{write:!0},type:String})],b.prototype,"field",void 0),t.__decorate([a.property({type:d.default,json:{write:!0}})],b.prototype,"legendOptions",void 0),t.__decorate([a.property({type:p.fieldTransformTypeKebabDict.apiValues,json:{type:p.fieldTransformTypeKebabDict.jsonValues,read:p.fieldTransformTypeKebabDict.read,write:p.fieldTransformTypeKebabDict.write}})],b.prototype,"fieldTransformType",void 0),t.__decorate([a.property({type:[y.default],json:{write:!0}})],b.prototype,"colorClassBreakInfos",void 0),b=h=t.__decorate([s.subclass("esri.renderers.PointCloudClassBreaksRenderer")],b),b}.apply(t,o))||(e.exports=n)},89729:(e,t,r)=>{var o,n;o=[r(58797),r(11285),r(74637),r(92231),r(73462),r(67059),r(26475),r(86928),r(99752),r(4037),r(51916),r(18377),r(56162),r(28349),r(77198)],void 0===(n=function(e,t,r,o,n,i,a,l,s,u,c,f,p,d,y){"use strict";const h=l.strict()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",pointCloudUniqueValueRenderer:"point-cloud-unique-value"});let b=function(t){function r(e){var r;return(r=t.call(this,e)||this).type=void 0,r.pointSizeAlgorithm=null,r.colorModulation=null,r.pointsPerInch=10,r}e._inheritsLoose(r,t);var n=r.prototype;return n.clone=function(){return console.warn(".clone() is not implemented for "+this.declaredClass),null},n.cloneProperties=function(){return{pointSizeAlgorithm:o.clone(this.pointSizeAlgorithm),colorModulation:o.clone(this.colorModulation),pointsPerInch:o.clone(this.pointsPerInch)}},r}(p.JSONSupport);return t.__decorate([a.property({type:h.apiValues,readOnly:!0,nonNullable:!0,json:{type:h.jsonValues,read:!1,write:h.write}})],b.prototype,"type",void 0),t.__decorate([a.property({types:y.pointSizeAlgorithmTypes,json:{write:!0}})],b.prototype,"pointSizeAlgorithm",void 0),t.__decorate([a.property({type:d.default,json:{write:!0}})],b.prototype,"colorModulation",void 0),t.__decorate([a.property({json:{write:!0},nonNullable:!0,type:Number})],b.prototype,"pointsPerInch",void 0),b=t.__decorate([s.subclass("esri.renderers.PointCloudRenderer")],b),function(e){e.fieldTransformTypeKebabDict=new l.JSONMap({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"})}(b||(b={})),b}.apply(t,o))||(e.exports=n)},11649:(e,t,r)=>{var o,n;o=[r(58797),r(11285),r(74637),r(92231),r(73462),r(67059),r(26475),r(12187),r(99752),r(4037),r(51916),r(18377),r(89729),r(50762),r(8514)],void 0===(n=function(e,t,r,o,n,i,a,l,s,u,c,f,p,d,y){"use strict";var h;let b=h=function(t){function r(e){var r;return(r=t.call(this,e)||this).type="point-cloud-stretch",r.field=null,r.legendOptions=null,r.fieldTransformType=null,r.stops=null,r}return e._inheritsLoose(r,t),r.prototype.clone=function(){return new h({...this.cloneProperties(),field:o.clone(this.field),fieldTransformType:o.clone(this.fieldTransformType),stops:o.clone(this.stops),legendOptions:o.clone(this.legendOptions)})},r}(p);return t.__decorate([l.enumeration({pointCloudStretchRenderer:"point-cloud-stretch"})],b.prototype,"type",void 0),t.__decorate([a.property({json:{write:!0},type:String})],b.prototype,"field",void 0),t.__decorate([a.property({type:d.default,json:{write:!0}})],b.prototype,"legendOptions",void 0),t.__decorate([a.property({type:p.fieldTransformTypeKebabDict.apiValues,json:{type:p.fieldTransformTypeKebabDict.jsonValues,read:p.fieldTransformTypeKebabDict.read,write:p.fieldTransformTypeKebabDict.write}})],b.prototype,"fieldTransformType",void 0),t.__decorate([a.property({type:[y.default],json:{write:!0}})],b.prototype,"stops",void 0),b=h=t.__decorate([s.subclass("esri.renderers.PointCloudStretchRenderer")],b),b}.apply(t,o))||(e.exports=n)},35141:(e,t,r)=>{var o,n;o=[r(58797),r(11285),r(74637),r(92231),r(73462),r(67059),r(26475),r(12187),r(99752),r(4037),r(51916),r(18377),r(89729),r(50762),r(36762)],void 0===(n=function(e,t,r,o,n,i,a,l,s,u,c,f,p,d,y){"use strict";var h;let b=h=function(t){function r(e){var r;return(r=t.call(this,e)||this).type="point-cloud-unique-value",r.field=null,r.fieldTransformType=null,r.colorUniqueValueInfos=null,r.legendOptions=null,r}return e._inheritsLoose(r,t),r.prototype.clone=function(){return new h({...this.cloneProperties(),field:o.clone(this.field),fieldTransformType:o.clone(this.fieldTransformType),colorUniqueValueInfos:o.clone(this.colorUniqueValueInfos),legendOptions:o.clone(this.legendOptions)})},r}(p);return t.__decorate([l.enumeration({pointCloudUniqueValueRenderer:"point-cloud-unique-value"})],b.prototype,"type",void 0),t.__decorate([a.property({json:{write:!0},type:String})],b.prototype,"field",void 0),t.__decorate([a.property({type:p.fieldTransformTypeKebabDict.apiValues,json:{type:p.fieldTransformTypeKebabDict.jsonValues,read:p.fieldTransformTypeKebabDict.read,write:p.fieldTransformTypeKebabDict.write}})],b.prototype,"fieldTransformType",void 0),t.__decorate([a.property({type:[y.default],json:{write:!0}})],b.prototype,"colorUniqueValueInfos",void 0),t.__decorate([a.property({type:d.default,json:{write:!0}})],b.prototype,"legendOptions",void 0),b=h=t.__decorate([s.subclass("esri.renderers.PointCloudUniqueValueRenderer")],b),b}.apply(t,o))||(e.exports=n)},29623:(e,t,r)=>{var o,n;o=[t,r(58797),r(11285),r(74637),r(92231),r(73462),r(67059),r(26475),r(99752),r(4037),r(51916),r(18377),r(56162),r(46674)],void 0===(n=function(e,r,o,n,i,a,l,s,u,c,f,p,d,y){"use strict";var h;t.ColorClassBreakInfo=h=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).description=null,t.label=null,t.minValue=0,t.maxValue=0,t.color=null,t}return r._inheritsLoose(t,e),t.prototype.clone=function(){return new h({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:i.clone(this.color)})},t}(d.JSONSupport),o.__decorate([s.property({type:String,json:{write:!0}})],e.ColorClassBreakInfo.prototype,"description",void 0),o.__decorate([s.property({type:String,json:{write:!0}})],e.ColorClassBreakInfo.prototype,"label",void 0),o.__decorate([s.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],e.ColorClassBreakInfo.prototype,"minValue",void 0),o.__decorate([s.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],e.ColorClassBreakInfo.prototype,"maxValue",void 0),o.__decorate([s.property({type:y,json:{type:[l.Integer],write:!0}})],e.ColorClassBreakInfo.prototype,"color",void 0),t.ColorClassBreakInfo=h=o.__decorate([u.subclass("esri.renderers.support.pointCloud.ColorClassBreakInfo")],e.ColorClassBreakInfo);var b=e.ColorClassBreakInfo;t.default=b,Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,o))||(e.exports=n)},28349:(e,t,r)=>{var o,n;o=[t,r(58797),r(11285),r(74637),r(73462),r(67059),r(26475),r(99752),r(4037),r(51916),r(18377),r(56162)],void 0===(n=function(e,r,o,n,i,a,l,s,u,c,f,p){"use strict";var d;t.ColorModulation=d=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).field=null,t.minValue=0,t.maxValue=255,t}return r._inheritsLoose(t,e),t.prototype.clone=function(){return new d({field:this.field,minValue:this.minValue,maxValue:this.maxValue})},t}(p.JSONSupport),o.__decorate([l.property({type:String,json:{write:!0}})],e.ColorModulation.prototype,"field",void 0),o.__decorate([l.property({type:Number,nonNullable:!0,json:{write:!0}})],e.ColorModulation.prototype,"minValue",void 0),o.__decorate([l.property({type:Number,nonNullable:!0,json:{write:!0}})],e.ColorModulation.prototype,"maxValue",void 0),t.ColorModulation=d=o.__decorate([s.subclass("esri.renderers.support.pointCloud.ColorModulation")],e.ColorModulation);var y=e.ColorModulation;t.default=y,Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,o))||(e.exports=n)},36762:(e,t,r)=>{var o,n;o=[t,r(58797),r(11285),r(74637),r(92231),r(73462),r(67059),r(26475),r(99752),r(4037),r(51916),r(18377),r(56162),r(46674)],void 0===(n=function(e,r,o,n,i,a,l,s,u,c,f,p,d,y){"use strict";var h;t.ColorUniqueValueInfo=h=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).description=null,t.label=null,t.values=null,t.color=null,t}return r._inheritsLoose(t,e),t.prototype.clone=function(){return new h({description:this.description,label:this.label,values:i.clone(this.values),color:i.clone(this.color)})},t}(d.JSONSupport),o.__decorate([s.property({type:String,json:{write:!0}})],e.ColorUniqueValueInfo.prototype,"description",void 0),o.__decorate([s.property({type:String,json:{write:!0}})],e.ColorUniqueValueInfo.prototype,"label",void 0),o.__decorate([s.property({type:[String],json:{write:!0}})],e.ColorUniqueValueInfo.prototype,"values",void 0),o.__decorate([s.property({type:y,json:{type:[l.Integer],write:!0}})],e.ColorUniqueValueInfo.prototype,"color",void 0),t.ColorUniqueValueInfo=h=o.__decorate([u.subclass("esri.renderers.support.pointCloud.ColorUniqueValueInfo")],e.ColorUniqueValueInfo);var b=e.ColorUniqueValueInfo;t.default=b,Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,o))||(e.exports=n)},36730:(e,t,r)=>{var o,n;o=[t,r(58797),r(11285),r(74637),r(73462),r(67059),r(26475),r(86928),r(99752),r(4037),r(51916),r(18377),r(56162)],void 0===(n=function(e,r,o,n,i,a,l,s,u,c,f,p,d){"use strict";const y=new s.JSONMap({pointCloudFixedSizeAlgorithm:"fixed-size",pointCloudSplatAlgorithm:"splat"});t.PointSizeAlgorithm=function(e){function t(){return e.apply(this,arguments)||this}return r._inheritsLoose(t,e),t}(d.JSONSupport),o.__decorate([l.property({type:y.apiValues,readOnly:!0,nonNullable:!0,json:{type:y.jsonValues,read:!1,write:y.write}})],e.PointSizeAlgorithm.prototype,"type",void 0),t.PointSizeAlgorithm=o.__decorate([u.subclass("esri.renderers.support.pointCloud.PointSizeAlgorithm")],e.PointSizeAlgorithm);var h=e.PointSizeAlgorithm;t.default=h,t.typeKebabDictionary=y,Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,o))||(e.exports=n)},50152:(e,t,r)=>{var o,n;o=[t,r(58797),r(11285),r(74637),r(73462),r(67059),r(26475),r(12187),r(99752),r(4037),r(51916),r(18377),r(36730)],void 0===(n=function(e,r,o,n,i,a,l,s,u,c,f,p,d){"use strict";var y;t.PointSizeFixedSizeAlgorithm=y=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).type="fixed-size",t.size=0,t.useRealWorldSymbolSizes=null,t}return r._inheritsLoose(t,e),t.prototype.clone=function(){return new y({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})},t}(d.default),o.__decorate([s.enumeration({pointCloudFixedSizeAlgorithm:"fixed-size"})],e.PointSizeFixedSizeAlgorithm.prototype,"type",void 0),o.__decorate([l.property({type:Number,nonNullable:!0,json:{write:!0}})],e.PointSizeFixedSizeAlgorithm.prototype,"size",void 0),o.__decorate([l.property({type:Boolean,json:{write:!0}})],e.PointSizeFixedSizeAlgorithm.prototype,"useRealWorldSymbolSizes",void 0),t.PointSizeFixedSizeAlgorithm=y=o.__decorate([u.subclass("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],e.PointSizeFixedSizeAlgorithm);var h=e.PointSizeFixedSizeAlgorithm;t.default=h,Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,o))||(e.exports=n)},35380:(e,t,r)=>{var o,n;o=[t,r(58797),r(11285),r(74637),r(73462),r(67059),r(26475),r(12187),r(99752),r(4037),r(51916),r(18377),r(36730)],void 0===(n=function(e,r,o,n,i,a,l,s,u,c,f,p,d){"use strict";var y;t.PointSizeSplatAlgorithm=y=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).type="splat",t.scaleFactor=1,t}return r._inheritsLoose(t,e),t.prototype.clone=function(){return new y({scaleFactor:this.scaleFactor})},t}(d.default),o.__decorate([s.enumeration({pointCloudSplatAlgorithm:"splat"})],e.PointSizeSplatAlgorithm.prototype,"type",void 0),o.__decorate([l.property({type:Number,value:1,nonNullable:!0,json:{write:!0}})],e.PointSizeSplatAlgorithm.prototype,"scaleFactor",void 0),t.PointSizeSplatAlgorithm=y=o.__decorate([u.subclass("esri.renderers.support.pointCloud.PointSizeSplatAlgorithm")],e.PointSizeSplatAlgorithm);var h=e.PointSizeSplatAlgorithm;t.default=h,Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,o))||(e.exports=n)},8514:(e,t,r)=>{var o,n;o=[t,r(58797),r(11285),r(74637),r(92231),r(73462),r(67059),r(26475),r(99752),r(4037),r(51916),r(18377),r(56162),r(46674)],void 0===(n=function(e,r,o,n,i,a,l,s,u,c,f,p,d,y){"use strict";var h;t.StopInfo=h=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).label=null,t.value=0,t.color=null,t}return r._inheritsLoose(t,e),t.prototype.clone=function(){return new h({label:this.label,value:this.value,color:i.clone(this.color)})},t}(d.JSONSupport),o.__decorate([s.property({type:String,json:{write:!0}})],e.StopInfo.prototype,"label",void 0),o.__decorate([s.property({type:Number,nonNullable:!0,json:{write:!0}})],e.StopInfo.prototype,"value",void 0),o.__decorate([s.property({type:y,json:{type:[l.Integer],write:!0}})],e.StopInfo.prototype,"color",void 0),t.StopInfo=h=o.__decorate([u.subclass("esri.renderers.support.pointCloud.StopInfo")],e.StopInfo);var b=e.StopInfo;t.default=b,Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,o))||(e.exports=n)},77198:(e,t,r)=>{var o,n;o=[t,r(36730),r(50152),r(35380)],void 0===(n=function(e,r,o,n){"use strict";const i={key:"type",base:r.default,typeMap:{"fixed-size":o.default,splat:n.default}};t.pointSizeAlgorithmTypes=i,Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,o))||(e.exports=n)},765:(e,t,r)=>{var o,n;o=[r(83490),r(3718),r(9720),r(23084),r(16843),r(79928),r(72742),r(43167),r(74326),r(29893)],void 0===(n=function(e,t,r,o,n,i,a,l,s,u){"use strict";let c=function(){function s(){}var c=s.prototype;return c.transform=function(o){const n=this._transform(o),i=[n.points.buffer,n.rgb.buffer];t.isSome(n.pointIdFilterMap)&&i.push(n.pointIdFilterMap.buffer);for(const t of n.attributes)"buffer"in t.values&&e.isArrayBuffer(t.values.buffer)&&t.values.buffer!==n.rgb.buffer&&i.push(t.values.buffer);return r.resolve({result:n,transferList:i})},c._transform=function(e){const r=u.readGeometry(e.schema,e.geometryBuffer);let n=r.length/3,i=null;const a=[],l=u.getAttributeValues(e.primaryAttributeData,r,n);t.isSome(e.primaryAttributeData)&&l&&a.push({attributeInfo:e.primaryAttributeData.attributeInfo,values:l});const s=u.getAttributeValues(e.modulationAttributeData,r,n);t.isSome(e.modulationAttributeData)&&s&&a.push({attributeInfo:e.modulationAttributeData.attributeInfo,values:s});let c=u.evaluateRenderer(e.rendererInfo,l,s,n);if(e.filterInfo&&e.filterInfo.length>0&&t.isSome(e.filterAttributesData)){const t=e.filterAttributesData.map((e=>{const t=u.getAttributeValues(e,r,n),o={attributeInfo:e.attributeInfo,values:t};return a.push(o),o}));i=new Uint32Array(n),n=u.filterInPlace(r,c,i,e.filterInfo,t)}for(const t of e.userAttributesData){const e=u.getAttributeValues(t,r,n);a.push({attributeInfo:t.attributeInfo,values:e})}3*n<c.length&&(c=new Uint8Array(c.buffer.slice(0,3*n))),this._applyElevationOffsetInPlace(r,n,e.elevationOffset);const f=this._transformCoordinates(r,n,e.obb,o.fromJSON(e.inSR),o.fromJSON(e.outSR));return{obb:e.obb,points:f,rgb:c,attributes:a,pointIdFilterMap:i}},c._transformCoordinates=function(e,t,r,o,s){if(!i.projectBuffer(e,o,0,e,s,0,t))throw Error("Can't reproject");const u=l.fromValues(r.center[0],r.center[1],r.center[2]),c=l.create(),p=l.create();a.conjugate(f,r.quaternion);const d=new Float32Array(3*t);for(let o=0;o<t;o++)c[0]=e[3*o]-u[0],c[1]=e[3*o+1]-u[1],c[2]=e[3*o+2]-u[2],n.transformQuat(p,c,f),r.halfSize[0]=Math.max(r.halfSize[0],Math.abs(p[0])),r.halfSize[1]=Math.max(r.halfSize[1],Math.abs(p[1])),r.halfSize[2]=Math.max(r.halfSize[2],Math.abs(p[2])),d[3*o]=c[0],d[3*o+1]=c[1],d[3*o+2]=c[2];return d},c._applyElevationOffsetInPlace=function(e,t,r){if(0!==r)for(let o=0;o<t;o++)e[3*o+2]+=r},s}();const f=s.create();return function(){return new c}}.apply(t,o))||(e.exports=n)},96271:(e,t,r)=>{var o,n;o=[t,r(92231),r(73462),r(49359),r(52044)],void 0===(n=function(e,r,o,n,i){"use strict";const a=o.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");function l(e,t,r){let o="",i=0;for(;i<r;){const a=e[t+i];if(a<128)o+=String.fromCharCode(a),i++;else if(a>=192&&a<224){if(i+1>=r)throw new n("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");const l=(31&a)<<6|63&e[t+i+1];o+=String.fromCharCode(l),i+=2}else if(a>=224&&a<240){if(i+2>=r)throw new n("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const l=(15&a)<<12|(63&e[t+i+1])<<6|63&e[t+i+2];o+=String.fromCharCode(l),i+=3}else{if(!(a>=240&&a<248))throw new n("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");{if(i+3>=r)throw new n("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const l=(7&a)<<18|(63&e[t+i+1])<<12|(63&e[t+i+2])<<6|63&e[t+i+3];if(l>=65536){const e=55296+(l-65536>>10),t=56320+(1023&l);o+=String.fromCharCode(e,t)}else o+=String.fromCharCode(l);i+=4}}}return o}function s(e,t){const r={byteOffset:0,byteCount:0,fields:Object.create(null)};let o=0;for(let n=0;n<t.length;n++){const i=t[n],a=i.valueType||i.type,l=g[a];r.fields[i.property]=l(e,o),o+=v[a].BYTES_PER_ELEMENT}return r.byteCount=o,r}function u(e,t,r){const o=[];let i,a,s=0;for(a=0;a<e;a+=1){if(i=t[a],i>0){if(o.push(l(r,s,i-1)),0!==r[s+i-1])throw new n("string-array-error","Invalid string array: missing null termination.")}else o.push(null);s+=i}return o}function c(e,t){return new(0,v[t.valueType])(e,t.byteOffset,t.count*t.valuesPerElement)}function f(e,t){return new Uint8Array(e,t.byteOffset,t.byteCount)}function p(e,t,o){const i=null!=t.header?s(e,t.header):{byteOffset:0,byteCount:0,fields:{count:o}},a={header:i,byteOffset:i.byteCount,byteCount:0,entries:Object.create(null)};let l=i.byteCount;for(let e=0;e<t.ordering.length;e++){const o=t.ordering[e],s=r.clone(t[o]);if(s.count=i.fields.count,"String"===s.valueType){if(s.byteOffset=l,s.byteCount=i.fields[o+"ByteCount"],"UTF-8"!==s.encoding)throw new n("unsupported-encoding","Unsupported String encoding.",{encoding:s.encoding})}else{if(!w(s.valueType))throw new n("unsupported-value-type","Unsupported binary valueType",{valueType:s.valueType});{const e=_(s.valueType);l+=l%e!=0?e-l%e:0,s.byteOffset=l,s.byteCount=e*s.valuesPerElement*s.count}}l+=s.byteCount,a.entries[o]=s}return a.byteCount=l-a.byteOffset,a}function d(e,t,r){if(t!==e&&a.error(`Invalid ${r} buffer size\n expected: ${e}, actual: ${t})`),t<e)throw new n("buffer-too-small","Binary buffer is too small",{expectedSize:e,actualSize:t})}function y(e){return{isDraco:!1,isLegacy:!1,color:null!=e.color,normal:null!=e.normal,uv0:null!=e.uv0,uvRegion:null!=e.uvRegion,featureIndex:null!=e.faceRange&&null!=e.featureId}}function h(e){const t={isDraco:!1,isLegacy:!0,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const r of e.ordering)if(e.vertexAttributes[r])switch(r){case"position":break;case"normal":t.normal=!0;break;case"color":t.color=!0;break;case"uv0":t.uv0=!0;break;case"region":t.uvRegion=!0}return e.featureAttributes&&e.featureAttributeOrder&&(t.featureIndex=!0),t}function b(e){const t={isDraco:!0,isLegacy:!1,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const r of e)switch(r){case"position":break;case"normal":t.normal=!0;break;case"uv0":t.uv0=!0;break;case"color":t.color=!0;break;case"uv-region":t.uvRegion=!0;break;case"feature-index":t.featureIndex=!0}return t}const m={position:"position",normal:"normal",color:"color",uv0:"uv0",region:"uvRegion"},v={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},g={Float32:(e,t)=>new DataView(e,0).getFloat32(t,!0),Float64:(e,t)=>new DataView(e,0).getFloat64(t,!0),UInt8:(e,t)=>new DataView(e,0).getUint8(t),Int8:(e,t)=>new DataView(e,0).getInt8(t),UInt16:(e,t)=>new DataView(e,0).getUint16(t,!0),Int16:(e,t)=>new DataView(e,0).getInt16(t,!0),UInt32:(e,t)=>new DataView(e,0).getUint32(t,!0),Int32:(e,t)=>new DataView(e,0).getInt32(t,!0)};function w(e){return v.hasOwnProperty(e)}function _(e){return w(e)?v[e].BYTES_PER_ELEMENT:0}t.createAttributeDataIndex=p,t.createGeometryDescriptor=function(e,t){return e&&e.compressedAttributes&&"draco"===e.compressedAttributes.encoding?b(e.compressedAttributes.attributes):e?y(e):h(t)},t.createGeometryDescriptorForDraco=b,t.createGeometryDescriptorFromDefinition=y,t.createGeometryDescriptorFromSchema=h,t.createGeometryIndexFromSchema=function(e,t){const r=s(e,t&&t.header);let o=r.byteCount;const n={isDraco:!1,header:r,byteOffset:r.byteCount,byteCount:0,vertexAttributes:{}},i=r.fields,a=null!=i.vertexCount?i.vertexCount:i.count;for(const e of t.ordering){if(!t.vertexAttributes[e])continue;const r={...t.vertexAttributes[e],byteOffset:o,count:a},i=m[e]?m[e]:"_"+e;n.vertexAttributes[i]=r,o+=_(r.valueType)*r.valuesPerElement*a}const l=i.faceCount;if(t.faces&&l){n.faces={};for(const e of t.ordering){if(!t.faces[e])continue;const r={...t.faces[e],byteOffset:o,count:l};n.faces[e]=r,o+=_(r.valueType)*r.valuesPerElement*l}}const u=i.featureCount;if(t.featureAttributes&&t.featureAttributeOrder&&u){n.featureAttributes={};for(const e of t.featureAttributeOrder){if(!t.featureAttributes[e])continue;const r={...t.featureAttributes[e],byteOffset:o,count:u};n.featureAttributes[e]=r,o+=("UInt64"===r.valueType?8:_(r.valueType))*r.valuesPerElement*u}}return d(o,e.byteLength,"geometry"),n.byteCount=o-n.byteOffset,n},t.createRawView=f,t.createTypedView=c,t.getBytesPerValue=_,t.isValueType=w,t.readBinaryAttribute=function(e,t,r){if("lepcc-rgb"===e.encoding)return i.decodeRGB(t);if("lepcc-intensity"===e.encoding)return i.decodeIntensity(t);if(null!=e.encoding&&""!==e.encoding)throw new n("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");e["attributeByteCounts "]&&!e.attributeByteCounts&&(a.warn("Warning: Trailing space in 'attributeByteCounts '."),e.attributeByteCounts=e["attributeByteCounts "]),"ObjectIds"===e.ordering[0]&&e.hasOwnProperty("objectIds")&&(a.warn("Warning: Case error in objectIds"),e.ordering[0]="objectIds");const o=p(t,e,r);d(o.byteOffset+o.byteCount,t.byteLength,"attribute");const l=o.entries.attributeValues||o.entries.objectIds;if(l){if("String"===l.valueType){const e=o.entries.attributeByteCounts,r=c(t,e),n=f(t,l);return u(e.count,r,n)}return c(t,l)}throw new n("bad-attribute-storage-info","Bad attributeStorageInfo specification.")},t.readHeader=s,t.readStringArray=u,t.valueType2ArrayBufferReader=g,t.valueType2TypedArrayClassMap=v,Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,o))||(e.exports=n)},52044:(e,t,r)=>{var o,n;o=[t,r(49359)],void 0===(n=function(e,r){"use strict";const o=!0;function n(e,t,r){return{identifier:String.fromCharCode.apply(null,new Uint8Array(e,r+0,10)),version:t.getUint16(r+10,o),checksum:t.getUint32(r+12,o)}}function i(e,t,r){const o=[];t=a(e,t,o);const n=[];for(let i=0;i<o.length;i++){n.length=0,t=a(e,t,n);for(let e=0;e<n.length;e++)r.push(n[e]+o[i])}return t}function a(e,t,n){const i=new DataView(e,t),a=i.getUint8(0),l=31&a,s=!!(32&a),u=(192&a)>>6;let c=0;if(0===u)c=i.getUint32(1,o),t+=5;else if(1===u)c=i.getUint16(1,o),t+=3;else{if(2!==u)throw new r("lepcc-decode-error","Bad count type");c=i.getUint8(1),t+=2}if(s)throw new r("lepcc-decode-error","LUT not implemented");const f=Math.ceil(c*l/8),p=new Uint8Array(e,t,f);let d=0,y=0,h=0;const b=-1>>>32-l;for(let e=0;e<c;e++){for(;y<l;)d|=p[h]<<y,y+=8,h+=1;n[e]=d&b,d>>>=l,y-=l,y+l>32&&(d|=p[h-1]>>8-y)}return t+h}t.decodeIntensity=function(e){const t=new DataView(e,0);let i=0;const{identifier:l,version:s}=n(e,t,i);if(i+=16,"Intensity "!==l)throw new r("lepcc-decode-error","Bad identifier");if(s>1)throw new r("lepcc-decode-error","Unknown version");const u=function(e,t){return{sizeLo:e.getUint32(t+0,o),sizeHi:e.getUint32(t+4,o),count:e.getUint32(t+8,o),scaleFactor:e.getUint16(t+12,o),bitsPerPoint:e.getUint8(t+14),reserved:e.getUint8(t+15)}}(t,i);if(i+=16,u.sizeHi*Math.pow(2,32)+u.sizeLo!==e.byteLength)throw new r("lepcc-decode-error","Bad size");const c=new Uint16Array(u.count);if(8===u.bitsPerPoint){if(u.count+i!==e.byteLength)throw new r("lepcc-decode-error","Bad size");const t=new Uint8Array(e,i,u.count);for(let e=0;e<u.count;e++)c[e]=t[e]*u.scaleFactor}else if(16===u.bitsPerPoint){if(2*u.count+i!==e.byteLength)throw new r("lepcc-decode-error","Bad size");const t=new Uint16Array(e,i,u.count);for(let e=0;e<u.count;e++)c[e]=t[e]*u.scaleFactor}else{const t=[];if(a(e,i,t)!==e.byteLength)throw new r("lepcc-decode-error","Bad size");for(let e=0;e<u.count;e++)c[e]=t[e]*u.scaleFactor}return c},t.decodeRGB=function(e){const t=new DataView(e,0);let i=0;const{identifier:a,version:l}=n(e,t,i);if(i+=16,"ClusterRGB"!==a)throw new r("lepcc-decode-error","Bad identifier");if(l>1)throw new r("lepcc-decode-error","Unknown version");const s=function(e,t){return{sizeLo:e.getUint32(t+0,o),sizeHi:e.getUint32(t+4,o),count:e.getUint32(t+8,o),colorMapCount:e.getUint16(t+12,o),lookupMethod:e.getUint8(t+14),compressionMethod:e.getUint8(t+15)}}(t,i);if(i+=16,s.sizeHi*Math.pow(2,32)+s.sizeLo!==e.byteLength)throw new r("lepcc-decode-error","Bad size");if((2===s.lookupMethod||1===s.lookupMethod)&&0===s.compressionMethod){if(3*s.colorMapCount+s.count+i!==e.byteLength||s.colorMapCount>256)throw new r("lepcc-decode-error","Bad count");const t=new Uint8Array(e,i,3*s.colorMapCount),o=new Uint8Array(e,i+3*s.colorMapCount,s.count),n=new Uint8Array(3*s.count);for(let e=0;e<s.count;e++){const r=o[e];n[3*e]=t[3*r],n[3*e+1]=t[3*r+1],n[3*e+2]=t[3*r+2]}return n}if(0===s.lookupMethod&&0===s.compressionMethod){if(3*s.count+i!==e.byteLength||0!==s.colorMapCount)throw new r("lepcc-decode-error","Bad count");return new Uint8Array(e,i).slice()}if(s.lookupMethod<=2&&1===s.compressionMethod){if(i+3!==e.byteLength||1!==s.colorMapCount)throw new r("lepcc-decode-error","Bad count");const o=t.getUint8(i),n=t.getUint8(i+1),a=t.getUint8(i+2),l=new Uint8Array(3*s.count);for(let e=0;e<s.count;e++)l[3*e]=o,l[3*e+1]=n,l[3*e+2]=a;return l}throw new r("lepcc-decode-error","Bad method "+s.lookupMethod+","+s.compressionMethod)},t.decodeXYZ=function(e){const t=new DataView(e,0);let a=0;const{identifier:l,version:s}=n(e,t,a);if(a+=16,"LEPCC     "!==l)throw new r("lepcc-decode-error","Bad identifier");if(s>1)throw new r("lepcc-decode-error","Unknown version");const u=function(e,t){return{sizeLo:e.getUint32(t+0,o),sizeHi:e.getUint32(t+4,o),minX:e.getFloat64(t+8,o),minY:e.getFloat64(t+16,o),minZ:e.getFloat64(t+24,o),maxX:e.getFloat64(t+32,o),maxY:e.getFloat64(t+40,o),maxZ:e.getFloat64(t+48,o),errorX:e.getFloat64(t+56,o),errorY:e.getFloat64(t+64,o),errorZ:e.getFloat64(t+72,o),count:e.getUint32(t+80,o),reserved:e.getUint32(t+84,o)}}(t,a);if(a+=88,u.sizeHi*Math.pow(2,32)+u.sizeLo!==e.byteLength)throw new r("lepcc-decode-error","Bad size");const c=new Float64Array(3*u.count),f=[],p=[],d=[],y=[];if(a=i(e,a,f),a=i(e,a,p),a=i(e,a,d),a=i(e,a,y),a!==e.byteLength)throw new r("lepcc-decode-error","Bad length");let h=0,b=0;for(let e=0;e<f.length;e++){b+=f[e];let t=0;for(let r=0;r<p[e];r++){t+=d[h];const e=y[h];c[3*h]=Math.min(u.maxX,u.minX+2*u.errorX*t),c[3*h+1]=Math.min(u.maxY,u.minY+2*u.errorY*b),c[3*h+2]=Math.min(u.maxZ,u.minZ+2*u.errorZ*e),h++}}return{errorX:u.errorX,errorY:u.errorY,errorZ:u.errorZ,result:c}},Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,o))||(e.exports=n)},29893:(e,t,r)=>{var o,n;o=[t,r(3718),r(65758),r(11649),r(35141),r(52044),r(96271)],void 0===(n=function(e,r,o,n,i,a,l){"use strict";function s(e,t){const r=new Float64Array(t);for(let o=0;o<t;o++)r[o]=e[3*o+2];return r}function u(e){return null==e||"none"===e?null:"low-four-bit"===e?e=>15&e:"high-four-bit"===e?e=>(240&e)>>4:"absolute-value"===e?e=>Math.abs(e):"modulo-ten"===e?e=>e%10:null}function c(e){let t=0;for(const r of e||[])t|=1<<r;return t}t.elevationFromPositions=s,t.evaluateRenderer=function(e,t,r,a){const{rendererJSON:l,isRGBRenderer:s}=e;let c=null,f=null;if(t&&s)c=t;else if(t&&"pointCloudUniqueValueRenderer"===l.type){f=i.fromJSON(l);const e=f.colorUniqueValueInfos;c=new Uint8Array(3*a);const r=u(f.fieldTransformType);for(let o=0;o<a;o++){const n=(r?r(t[o]):t[o])+"";for(let t=0;t<e.length;t++)if(e[t].values.indexOf(n)>=0){c[3*o]=e[t].color.r,c[3*o+1]=e[t].color.g,c[3*o+2]=e[t].color.b;break}}}else if(t&&"pointCloudStretchRenderer"===l.type){f=n.fromJSON(l);const e=f.stops;c=new Uint8Array(3*a);const r=u(f.fieldTransformType);for(let o=0;o<a;o++){const n=r?r(t[o]):t[o],i=e.length-1;if(n<e[0].value)c[3*o]=e[0].color.r,c[3*o+1]=e[0].color.g,c[3*o+2]=e[0].color.b;else if(n>=e[i].value)c[3*o]=e[i].color.r,c[3*o+1]=e[i].color.g,c[3*o+2]=e[i].color.b;else for(let t=1;t<e.length;t++)if(n<e[t].value){const r=(n-e[t-1].value)/(e[t].value-e[t-1].value);c[3*o]=e[t].color.r*r+e[t-1].color.r*(1-r),c[3*o+1]=e[t].color.g*r+e[t-1].color.g*(1-r),c[3*o+2]=e[t].color.b*r+e[t-1].color.b*(1-r);break}}}else if(t&&"pointCloudClassBreaksRenderer"===l.type){f=o.fromJSON(l);const e=f.colorClassBreakInfos;c=new Uint8Array(3*a);const r=u(f.fieldTransformType);for(let o=0;o<a;o++){const n=r?r(t[o]):t[o];for(let t=0;t<e.length;t++)if(n>=e[t].minValue&&n<=e[t].maxValue){c[3*o]=e[t].color.r,c[3*o+1]=e[t].color.g,c[3*o+2]=e[t].color.b;break}}}else{c=new Uint8Array(3*a);for(let e=0;e<c.length;e++)c[e]=255}if(r&&f&&f.colorModulation){const e=f.colorModulation.minValue,t=f.colorModulation.maxValue,o=.3;for(let n=0;n<a;n++){const i=r[n],a=i>=t?1:i<=e?o:o+(1-o)*(i-e)/(t-e);c[3*n]=a*c[3*n],c[3*n+1]=a*c[3*n+1],c[3*n+2]=a*c[3*n+2]}}return c},t.filterInPlace=function(e,t,r,o,n){const i=e.length/3;let a=0;for(let l=0;l<i;l++){let i=!0;for(let e=0;e<o.length&&i;e++){const{filterJSON:t}=o[e],r=n[e].values[l];switch(t.type){case"pointCloudValueFilter":{const e="exclude"===t.mode;-1!==t.values.indexOf(r)===e&&(i=!1);break}case"pointCloudBitfieldFilter":{const e=c(t.requiredSetBits),o=c(t.requiredClearBits);(r&e)===e&&0==(r&o)||(i=!1);break}case"pointCloudReturnFilter":{const e=15&r,o=r>>>4&15,n=o>1,a=1===e,l=e===o;let s=!1;for(const e of t.includedReturns)if("last"===e&&l||"firstOfMany"===e&&a&&n||"lastOfMany"===e&&l&&n||"single"===e&&!n){s=!0;break}s||(i=!1);break}}}i&&(r[a]=l,e[3*a]=e[3*l],e[3*a+1]=e[3*l+1],e[3*a+2]=e[3*l+2],t[3*a]=t[3*l],t[3*a+1]=t[3*l+1],t[3*a+2]=t[3*l+2],a++)}return a},t.getAttributeValues=function(e,t,o){return r.isSome(e)&&e.attributeInfo.useElevation?s(t,o):r.isSome(e)?l.readBinaryAttribute(e.attributeInfo.storageInfo,e.buffer,o):null},t.readGeometry=function(e,t){if(null==e.encoding||""===e.encoding){const o=l.createGeometryIndexFromSchema(t,e);if(r.isNone(o.vertexAttributes.position))return;const n=l.createTypedView(t,o.vertexAttributes.position),i=o.header.fields,a=[i.offsetX,i.offsetY,i.offsetZ],s=[i.scaleX,i.scaleY,i.scaleZ],u=n.length/3,c=new Float64Array(3*u);for(let e=0;e<u;e++)c[3*e]=n[3*e]*s[0]+a[0],c[3*e+1]=n[3*e+1]*s[1]+a[1],c[3*e+2]=n[3*e+2]*s[2]+a[2];return c}if("lepcc-xyz"===e.encoding)return a.decodeXYZ(t).result},Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,o))||(e.exports=n)}}]);