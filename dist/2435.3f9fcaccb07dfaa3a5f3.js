(self.webpackChunkh2oc=self.webpackChunkh2oc||[]).push([[2435],{2435:(e,t,r)=>{var o,i;o=[r(58797),r(11285),r(74637),r(3718),r(73462),r(67059),r(26475),r(59376),r(99752),r(49359),r(45036),r(72440),r(75416),r(95791),r(64393),r(69788),r(8336),r(23704),r(25548),r(52058),r(93511),r(43503),r(17469),r(26501)],void 0===(i=function(e,t,r,o,i,n,s,a,p,c,l,y,d,u,f,h,m,v,_,g,S,w,O,T){"use strict";let N=function(t){function r(...e){var r;return(r=t.call(this,...e)||this).handles=new d,r.geometryType="mesh",r.operationalLayerType="IntegratedMeshLayer",r.type="integrated-mesh",r.nodePages=null,r.materialDefinitions=null,r.textureSetDefinitions=null,r.geometryDefinitions=null,r.serviceUpdateTimeStamp=null,r.profile="mesh-pyramids",r.modifications=null,r._modificationsSource=null,r.elevationInfo=null,r.path=null,r}e._inheritsLoose(r,t);var i=r.prototype;return i.destroy=function(){this.handles.destroy()},i.initialize=function(){this.handles.add(h.on(this,"modifications","after-changes",(()=>this.modifications=this.modifications),null,null,!0))},i.normalizeCtorArgs=function(e,t){return"string"==typeof e?{url:e,...t}:e},i.readModifications=function(e,t,r){this._modificationsSource={url:l.fromJSON(e,r),context:r}},i.load=async function(e){return this.addResolvingPromise(this._doLoad(e)),this},i._doLoad=async function(e){const t=o.get(e,"signal");try{await this.loadFromPortal({supportedTypes:["Scene Service"]},e)}catch(e){}if(await this._fetchService(t),o.isSome(this._modificationsSource)){const t=await T.fromUrl(this._modificationsSource.url,this.spatialReference,e);this.setAtOrigin("modifications",t,this._modificationsSource.context.origin),this._modificationsSource=null}await this._verifyRootNodeAndUpdateExtent(this.nodePages,t)},i.beforeSave=function(){if(!o.isNone(this._modificationsSource))return this.load().then((()=>{}),(()=>{}))},i.saveAs=async function(e,t){return this._debouncedSaveOperations(1,{...t,getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:"integrated-mesh"},e)},i.save=async function(){const e={getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:"integrated-mesh"};return this._debouncedSaveOperations(0,e)},i.validateLayer=function(e){if(e.layerType&&"IntegratedMesh"!==e.layerType)throw new c("integrated-mesh-layer:layer-type-not-supported","IntegratedMeshLayer does not support this layer type",{layerType:e.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor))throw new c("layer:service-version-not-supported","Service version is not supported.",{serviceVersion:this.version.versionString,supportedVersions:"1.x"});if(this.version.major>1)throw new c("layer:service-version-too-new","Service version is too new.",{serviceVersion:this.version.versionString,supportedVersions:"1.x"})},i._getTypeKeywords=function(){return["IntegratedMeshLayer"]},r}(O.SceneService(_.ArcGISService(v.OperationalLayer(g.PortalLayer(S.ScaleRangeLayer(f.MultiOriginJSONMixin(u)))))));return t.__decorate([s.property({type:String,readOnly:!0})],N.prototype,"geometryType",void 0),t.__decorate([s.property({type:["show","hide"]})],N.prototype,"listMode",void 0),t.__decorate([s.property({type:["IntegratedMeshLayer"]})],N.prototype,"operationalLayerType",void 0),t.__decorate([s.property({json:{read:!1},readOnly:!0})],N.prototype,"type",void 0),t.__decorate([s.property({type:w.I3SNodePageDefinition,readOnly:!0})],N.prototype,"nodePages",void 0),t.__decorate([s.property({type:[w.I3SMaterialDefinition],readOnly:!0})],N.prototype,"materialDefinitions",void 0),t.__decorate([s.property({type:[w.I3STextureSetDefinition],readOnly:!0})],N.prototype,"textureSetDefinitions",void 0),t.__decorate([s.property({type:[w.I3SGeometryDefinition],readOnly:!0})],N.prototype,"geometryDefinitions",void 0),t.__decorate([s.property({readOnly:!0})],N.prototype,"serviceUpdateTimeStamp",void 0),t.__decorate([s.property({type:T}),y.persistable({origins:["web-scene","portal-item"],type:"resource",prefix:"modifications"})],N.prototype,"modifications",void 0),t.__decorate([a.reader(["web-scene","portal-item"],"modifications")],N.prototype,"readModifications",null),t.__decorate([s.property(m.elevationInfo)],N.prototype,"elevationInfo",void 0),t.__decorate([s.property({type:String,json:{origins:{"web-scene":{read:!0,write:!0},"portal-item":{read:!0,write:!0}},read:!1}})],N.prototype,"path",void 0),N=t.__decorate([p.subclass("esri.layers.IntegratedMeshLayer")],N),N}.apply(t,o))||(e.exports=i)},85203:(e,t,r)=>{var o,i;o=[r(58797),r(11285),r(74637),r(92231),r(73462),r(67059),r(26475),r(99145),r(99752),r(25179),r(72440),r(56162),r(50257),r(26016),r(79928)],void 0===(i=function(e,t,r,o,i,n,s,a,p,c,l,y,d,u,f){"use strict";var h;let m=h=function(t){function r(e){var r;return(r=t.call(this,e)||this).geometry=null,r.type="clip",r}e._inheritsLoose(r,t);var i=r.prototype;return i.writeGeometry=function(e,t,r,o){if(o.layer&&o.layer.spatialReference&&!o.layer.spatialReference.equals(this.geometry.spatialReference)){if(!f.canProjectWithoutEngine(e.spatialReference,o.layer.spatialReference))return void(o&&o.messages&&o.messages.push(new a("scenemodification:unsupported","Scene modifications with incompatible spatial references are not supported",{modification:this,spatialReference:o.layer.spatialReference,context:o})));const i=new d;f.projectPolygon(e,i,o.layer.spatialReference),t[r]=i.toJSON(o)}else t[r]=e.toJSON(o);delete t[r].spatialReference},i.clone=function(){return new h({geometry:o.clone(this.geometry),type:this.type})},r}(y.JSONSupport);return t.__decorate([s.property({type:d}),l.persistable()],m.prototype,"geometry",void 0),t.__decorate([c.writer(["web-scene","portal-item"],"geometry")],m.prototype,"writeGeometry",null),t.__decorate([s.property({type:["clip","mask","replace"],nonNullable:!0}),l.persistable()],m.prototype,"type",void 0),m=h=t.__decorate([p.subclass("esri.layers.support.SceneModification")],m),m}.apply(t,o))||(e.exports=i)},26501:(e,t,r)=>{var o,i;o=[r(58797),r(11285),r(74637),r(3718),r(73462),r(67059),r(26475),r(99752),r(4037),r(51916),r(18377),r(56162),r(82438),r(40810),r(85203)],void 0===(i=function(e,t,r,o,i,n,s,a,p,c,l,y,d,u,f){"use strict";var h;let m=h=function(t){function r(e){var r;return(r=t.call(this,e)||this).url=null,r}e._inheritsLoose(r,t);var i=r.prototype;return i.toJSON=function(e){return this.toArray().map((t=>t.toJSON(e))).filter((e=>!!e.geometry))},i.clone=function(){return new h({url:this.url,items:this.items.map((e=>e.clone()))})},i._readModifications=function(e,t){for(const r of e)this.add(f.fromJSON(r,t))},r.fromJSON=function(e,t){const r=new h;return r._readModifications(e,t),r},r.fromUrl=async function(e,t,r){const i={url:p.urlToObject(e),origin:"service"},n=await u(e,{responseType:"json",signal:o.get(r,"signal")}),s=t.toJSON(),a=[];for(const e of n.data)a.push(f.fromJSON({...e,geometry:{...e.geometry,spatialReference:s}},i));return new h({url:e,items:a})},r}(y.JSONSupportMixin(d.ofType(f)));return t.__decorate([s.property({type:String})],m.prototype,"url",void 0),m=h=t.__decorate([a.subclass("esri.layers.support.SceneModifications")],m),m}.apply(t,o))||(e.exports=i)}}]);