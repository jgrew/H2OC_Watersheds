(self.webpackChunkh2oc=self.webpackChunkh2oc||[]).push([[108],{92872:(e,t,n)=>{var r,o;r=[t,n(3438)],void 0===(o=function(e,n){"use strict";function r(e,t,r){const s=e.byteLength/(4*t),f=new Uint32Array(e,0,s*t);let u=new Uint32Array(s);const l=r&&r.minReduction||0,d=r&&r.originalIndices||null,g=r&&r.componentOffsets||null;let p=0;if(g)for(let e=0;e<g.length-1;e++){const t=g[e+1]-g[e];t>p&&(p=t)}else p=s;const w=Math.floor(1.1*p)+1;(null==c||c.length<2*w)&&(c=new Uint32Array(n.nextHighestPowerOfTwo(2*w)));for(let e=0;e<2*w;e++)c[e]=0;let y=0;const m=!!g&&!!d,h=m?d.length:s,V=m?new Uint32Array(d.length):null,v=1.96;let B=0!==l?Math.ceil(4*v*v/(l*l)*l*(1-l)):h,I=1,b=g?g[1]:h;for(let e=0;e<h;e++){if(e===B){const t=1-y/e;if(t+v*Math.sqrt(t*(1-t)/e)<l)return null;B*=2}if(e===b){for(let e=0;e<2*w;e++)c[e]=0;if(d)for(let e=g[I-1];e<g[I];e++)V[e]=u[d[e]];b=g[++I]}const n=m?d[e]:e,r=n*t,i=a(f,r,t);let s=i%w,p=y;for(;0!==c[2*s+1];){if(c[2*s]===i){const e=c[2*s+1]-1;if(o(f,r,e*t,t)){p=u[e];break}}s++,s>=w&&(s-=w)}p===y&&(c[2*s]=i,c[2*s+1]=n+1,y++),u[n]=p}if(0!==l&&1-y/s<l)return null;if(m){for(let e=g[I-1];e<V.length;e++)V[e]=u[d[e]];u=V}const A=new Uint32Array(t*y);y=0;for(let e=0;e<h;e++)u[e]===y&&(i(f,(m?d[e]:e)*t,A,y*t,t),y++);if(d&&!m){const e=new Uint32Array(d.length);for(let t=0;t<e.length;t++)e[t]=u[d[t]];u=e}return{buffer:A.buffer,indices:u,uniqueCount:y}}function o(e,t,n,r){for(let o=0;o<r;o++)if(e[t+o]!==e[n+o])return!1;return!0}function i(e,t,n,r,o){for(let i=0;i<o;i++)n[r+i]=e[t+i]}function a(e,t,n){let r=0;for(let o=0;o<n;o++)r=e[t+o]+r|0,r=r+(r<<11)+(r>>>2)|0;return r>>>0}let c=null;t.deduplicate=r,t.default=r,Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,r))||(e.exports=o)},53147:(e,t)=>{var n;void 0===(n=function(e){"use strict";const n={divisor:0},r={u8:5121,u16:5123,u32:5125,i8:5120,i16:5122,i32:5124,f32:5126};t.glLayout=function(e,t={}){t={...n,...t};const o=e.stride;return e.fieldNames.filter((t=>{const n=e.fields.get(t).optional;return!(n&&n.glPadding)})).map((n=>{const i=e.fields.get(n),a=i.constructor.ElementCount,c=function(e){const t=r[e];if(t)return t;throw new Error("BufferType not supported in WebGL")}(i.constructor.ElementType),s=i.offset,f=!(!i.optional||!i.optional.glNormalized);return{name:n,stride:o,count:a,type:c,offset:s,normalized:f,divisor:t.divisor}}))},Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,[t]))||(e.exports=n)},76186:(e,t,n)=>{var r,o;r=[t,n(89193),n(45891)],void 0===(o=function(e,n,r){"use strict";function o(e){const t=new Array;return e.fields.forEach(((e,n)=>{const r={...e,constructor:c(e.constructor)};t.push([n,r])})),{stride:e.stride,fields:t,fieldNames:e.fieldNames}}function i(e){const t=r.newLayout();return t.stride=e.stride,t.fieldNames=e.fieldNames,e.fields.forEach((e=>{return t.fields.set(e[0],{...e[1],constructor:(n=e[1].constructor,s.get(n))});var n})),t}const a=[n.BufferViewFloat,n.BufferViewVec2f,n.BufferViewVec3f,n.BufferViewVec4f,n.BufferViewMat3f,n.BufferViewMat4f,n.BufferViewFloat64,n.BufferViewVec2f64,n.BufferViewVec3f64,n.BufferViewVec4f64,n.BufferViewMat3f64,n.BufferViewMat4f64,n.BufferViewUint8,n.BufferViewVec2u8,n.BufferViewVec3u8,n.BufferViewVec4u8,n.BufferViewUint16,n.BufferViewVec2u16,n.BufferViewVec3u16,n.BufferViewVec4u16,n.BufferViewUint32,n.BufferViewVec2u32,n.BufferViewVec3u32,n.BufferViewVec4u32,n.BufferViewInt8,n.BufferViewVec2i8,n.BufferViewVec3i8,n.BufferViewVec4i8,n.BufferViewInt16,n.BufferViewVec2i16,n.BufferViewVec3i16,n.BufferViewVec4i16,n.BufferViewInt32,n.BufferViewVec2i32,n.BufferViewVec3i32,n.BufferViewVec4i32];function c(e){return`${e.ElementType}_${e.ElementCount}`}const s=new Map;a.forEach((e=>s.set(c(e),e))),t.packInterleavedBuffer=function(e,t){return t.push(e.buffer),{buffer:e.buffer,layout:o(e.layout)}},t.packLayout=o,t.unpackInterleavedBuffer=function(e){return i(e.layout).createView(e.buffer)},t.unpackLayout=i,Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,r))||(e.exports=o)},3004:(e,t)=>{var n;void 0===(n=function(e){"use strict";t.computeNeighbors=function(e,t){const n=e.length/3,r=new Uint32Array(t+1),o=new Uint32Array(t+1),i=(e,t)=>{e<t?r[e+1]++:o[t+1]++};for(let t=0;t<n;t++){const n=e[3*t],r=e[3*t+1],o=e[3*t+2];i(n,r),i(r,o),i(o,n)}let a=0,c=0;for(let e=0;e<t;e++){const t=r[e+1],n=o[e+1];r[e+1]=a,o[e+1]=c,a+=t,c+=n}const s=new Uint32Array(6*n),f=r[t],u=(e,t,n)=>{if(e<t){const o=r[e+1]++;s[2*o]=t,s[2*o+1]=n}else{const r=o[t+1]++;s[2*f+2*r]=e,s[2*f+2*r+1]=n}};for(let t=0;t<n;t++){const n=e[3*t],r=e[3*t+1],o=e[3*t+2];u(n,r,t),u(r,o,t),u(o,n,t)}const l=(e,t)=>{const n=2*e,r=t-e;for(let e=1;e<r;e++){const t=s[n+2*e],r=s[n+2*e+1];let o=e-1;for(;o>=0&&s[n+2*o]>t;o--)s[n+2*o+2]=s[n+2*o],s[n+2*o+3]=s[n+2*o+1];s[n+2*o+2]=t,s[n+2*o+3]=r}};for(let e=0;e<t;e++)l(r[e],r[e+1]),l(f+o[e],f+o[e+1]);const d=new Int32Array(3*n),g=(t,n)=>t===e[3*n]?0:t===e[3*n+1]?1:t===e[3*n+2]?2:-1,p=(e,t)=>{const n=g(e,t);d[3*t+n]=-1},w=(e,t,n,r)=>{const o=g(e,t);d[3*t+o]=r;const i=g(n,r);d[3*r+i]=t};for(let e=0;e<t;e++){let t=r[e];const n=r[e+1];let i=o[e];const a=o[e+1];for(;t<n&&i<a;){const n=s[2*t],r=s[2*f+2*i];n===r?(w(e,s[2*t+1],r,s[2*f+2*i+1]),t++,i++):n<r?(p(e,s[2*t+1]),t++):(p(r,s[2*f+2*i+1]),i++)}for(;t<n;)p(e,s[2*t+1]),t++;for(;i<a;)p(s[2*f+2*i],s[2*f+2*i+1]),i++}return d},Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,[t]))||(e.exports=n)},80108:(e,t,n)=>{var r,o;r=[t,n(92872),n(68233),n(48587),n(76186),n(3004),n(91666)],void 0===(o=function(e,n,r,o,i,a,c){"use strict";function s(e){const t=function(e,t,o){if(t&&o)return{faces:o,neighbors:a.computeNeighbors(o,e.count),vertices:e};{const t=n.deduplicate(e.buffer,e.stride/4,{originalIndices:o}),i=a.computeNeighbors(t.indices,t.uniqueCount);return{faces:t.indices,neighbors:i,vertices:r.EdgeInputBufferLayout.createView(t.buffer)}}}(e.data,e.skipDeduplicate,e.originalIndices);return f.updateSettings(e.writerSettings),u.updateSettings(e.writerSettings),c.extractEdges(t,f,u)}const f=new o.RegularEdgeBufferWriter,u=new o.SilhouetteEdgeBufferWriter;t.work=s,t.wrappedWork=async function(e){const t=function(e){return{data:r.EdgeInputBufferLayout.createView(e.dataBuffer),originalIndices:"Uint32Array"===e.originalIndicesType?new Uint32Array(e.originalIndicesBuffer):"Uint16Array"===e.originalIndicesType?new Uint16Array(e.originalIndicesBuffer):void 0,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate}}(e),n=s(t),o=[t.data.buffer];return{result:function(e,t){return t.push(e.regular.lodInfo.lengths.buffer),t.push(e.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:i.packInterleavedBuffer(e.regular.instancesData,t),lodInfo:{lengths:e.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:i.packInterleavedBuffer(e.silhouette.instancesData,t),lodInfo:{lengths:e.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:e.averageEdgeLength}}(n,o),transferList:o}},Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,r))||(e.exports=o)},68233:(e,t,n)=>{var r,o;r=[t,n(53147),n(45891)],void 0===(o=function(e,n,r){"use strict";const o=r.newLayout().vec3f("position").u16("componentIndex").u16("_padding"),i=r.newLayout().vec2u8("sideness"),a=n.glLayout(i),c=r.newLayout().vec3f("position0").vec3f("position1").u16("componentIndex").u8("variantOffset",{glNormalized:!0}).u8("variantStroke").u8("variantExtension",{glNormalized:!0}).u8("_padding",{glPadding:!0}).u16("_padding2",{glPadding:!0}),s=c.clone().vec3f("normal"),f=c.clone().vec3f("normalA").vec3f("normalB");t.CommonInstancesLayout=c,t.EdgeInputBufferLayout=o,t.EdgeShaderAttributeLocations={position0:0,position1:1,componentIndex:2,variantOffset:4,variantStroke:5,variantExtension:6,normal:7,normalA:7,normalB:8,sideness:9},t.RegularEdgeInstancesLayout=s,t.SilhouetteEdgeInstancesLayout=f,t.VertexLayout=i,t.glVertexLayout=a,Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,r))||(e.exports=o)},48587:(e,t,n)=>{var r,o;r=[t,n(83056),n(14360),n(16843),n(53147),n(68233)],void 0===(o=function(e,n,r,o,i,a){"use strict";let c=function(){function e(){}var t=e.prototype;return t.updateSettings=function(e){this.settings=e},t.write=function(e,t,n){const r=function(e){const t=s;t[0]=e.position0[0],t[1]=e.position0[1],t[2]=e.position0[2],t[3]=e.position1[0],t[4]=e.position1[1],t[5]=e.position1[2],u[0]=5381;for(let e=0;e<f.length;e++)u[0]=31*u[0]+f[e];return u[0]}(n);l.seed=r;const o=l.getIntRange(0,255),i=l.getIntRange(0,this.settings.variants-1),a=l.getFloat(),c=255*(.5*function(e,t){const n=e<0?-1:1;return Math.pow(Math.abs(e),1.2)*n}(-(1-Math.min(a/.7,1))+Math.max(0,a-.7)/(1-.7))+.5);e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1),e.componentIndex.set(t,n.componentIndex),e.variantOffset.set(t,o),e.variantStroke.set(t,i),e.variantExtension.set(t,c)},t.trim=function(e,t){return e.slice(0,t)},e}();const s=new Float32Array(6),f=new Uint32Array(s.buffer),u=new Uint32Array(1),l=new n;let d=function(){function e(){this.commonWriter=new c}var t=e.prototype;return t.updateSettings=function(e){this.commonWriter.updateSettings(e)},t.allocate=function(e){return a.RegularEdgeInstancesLayout.createBuffer(e)},t.write=function(e,t,n){this.commonWriter.write(e,t,n),o.add(p,n.faceNormal0,n.faceNormal1),o.normalize(p,p),e.normal.setVec(t,p)},t.trim=function(e,t){return this.commonWriter.trim(e,t)},e}();d.Layout=a.RegularEdgeInstancesLayout,d.glLayout=i.glLayout(a.RegularEdgeInstancesLayout,{divisor:1});let g=function(){function e(){this.commonWriter=new c}var t=e.prototype;return t.updateSettings=function(e){this.commonWriter.updateSettings(e)},t.allocate=function(e){return a.SilhouetteEdgeInstancesLayout.createBuffer(e)},t.write=function(e,t,n){this.commonWriter.write(e,t,n),e.normalA.setVec(t,n.faceNormal0),e.normalB.setVec(t,n.faceNormal1)},t.trim=function(e,t){return this.commonWriter.trim(e,t)},e}();g.Layout=a.SilhouetteEdgeInstancesLayout,g.glLayout=i.glLayout(a.SilhouetteEdgeInstancesLayout,{divisor:1});const p=r.create();t.CommonBufferWriter=c,t.RegularEdgeBufferWriter=d,t.SilhouetteEdgeBufferWriter=g,Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,r))||(e.exports=o)},91666:(e,t,n)=>{var r,o;r=[t,n(83490),n(45630),n(3438),n(14360),n(16843),n(77733)],void 0===(o=function(e,n,r,o,i,a,c){"use strict";const s=-1;function f(e,t){return e.cosAngle<t}function u(e,t){return e.cosAngle>t}function l(e,t){const n=o.acosClamped(e.cosAngle),r=d.fwd,i=d.ortho;return c.directionFromTo(r,e.position1,e.position0),n*(a.dot(a.cross(i,e.faceNormal0,e.faceNormal1),r)>0?-1:1)>t}const d={edge:{position0:i.create(),position1:i.create(),faceNormal0:i.create(),faceNormal1:i.create(),componentIndex:0,cosAngle:0},ortho:i.create(),fwd:i.create()},g={v0:i.create(),v1:i.create(),v2:i.create()},p={anglePlanar:4,angleSignificantEdge:35};t.extractEdges=function(e,t,i,c=p){const w=e.vertices.position,y=e.vertices.componentIndex,m=o.deg2rad(c.anglePlanar),h=o.deg2rad(c.angleSignificantEdge),V=Math.cos(h),v=Math.cos(m),B=d.edge,I=B.position0,b=B.position1,A=B.faceNormal0,E=B.faceNormal1,L=function(e){const t=e.faces.length/3,n=e.vertices.position,r=e.faces,o=g.v0,i=g.v1,c=g.v2,s=new Float32Array(3*t);for(let e=0;e<t;e++){const t=r[3*e+0],f=r[3*e+1],u=r[3*e+2];n.getVec(t,o),n.getVec(f,i),n.getVec(u,c),a.subtract(i,i,o),a.subtract(c,c,o),a.cross(o,i,c),a.normalize(o,o),s[3*e+0]=o[0],s[3*e+1]=o[1],s[3*e+2]=o[2]}return s}(e),x=function(e){const t=e.faces.length/3,n=e.faces,r=e.neighbors;let o=0;for(let e=0;e<t;e++){const t=r[3*e+0],i=r[3*e+1],a=r[3*e+2],c=n[3*e+0],f=n[3*e+1],u=n[3*e+2];o+=t===s||c<f?1:0,o+=i===s||f<u?1:0,o+=a===s||u<c?1:0}const i=new Int32Array(4*o);let a=0;for(let e=0;e<t;e++){const t=r[3*e+0],o=r[3*e+1],c=r[3*e+2],f=n[3*e+0],u=n[3*e+1],l=n[3*e+2];(t===s||f<u)&&(i[a++]=f,i[a++]=u,i[a++]=e,i[a++]=t),(o===s||u<l)&&(i[a++]=u,i[a++]=l,i[a++]=e,i[a++]=o),(c===s||l<f)&&(i[a++]=l,i[a++]=f,i[a++]=e,i[a++]=c)}return i}(e),S=x.length/4,M=t.allocate(S);let N=0;const _=S,k=i.allocate(_);let U=0,W=0,P=0;const O=r.range(0,S),C=new Float32Array(S);n.forEach(C,((e,t,n)=>{w.getVec(x[4*t+0],I),w.getVec(x[4*t+1],b),n[t]=a.distance(I,b)})),O.sort(((e,t)=>C[t]-C[e]));const D=new Array,F=new Array;for(let e=0;e<S;e++){const n=O[e],r=C[n],o=x[4*n+0],c=x[4*n+1],d=x[4*n+2],g=x[4*n+3],p=g===s;if(w.getVec(o,I),w.getVec(c,b),p)a.set(A,L[3*d+0],L[3*d+1],L[3*d+2]),a.copy(E,A),B.componentIndex=y.get(o),B.cosAngle=a.dot(A,E);else{if(a.set(A,L[3*d+0],L[3*d+1],L[3*d+2]),a.set(E,L[3*g+0],L[3*g+1],L[3*g+2]),B.componentIndex=y.get(o),B.cosAngle=a.dot(A,E),u(B,v))continue;B.cosAngle<-.9999&&a.copy(E,A)}W+=r,P++,p||f(B,V)?(t.write(M,N++,B),D.push(r)):l(B,m)&&(i.write(k,U++,B),F.push(r))}const R=new Float32Array(D.reverse()),j=new Float32Array(F.reverse());return{regular:{instancesData:t.trim(M,N),lodInfo:{lengths:R}},silhouette:{instancesData:i.trim(k,U),lodInfo:{lengths:j}},averageEdgeLength:W/P}},Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,r))||(e.exports=o)}}]);