(self.webpackChunkh2oc=self.webpackChunkh2oc||[]).push([[9144],{29144:(e,t,r)=>{var n,a;n=[r,t,r(73462),r(49359),r(27006),r(12808),r(97243),r(70305),r(97949),r(94871)],void 0===(a=function(e,n,a,i,l,s,u,o,c,p){"use strict";const d=a.getLogger("esri.layers.support.labelFormatUtils"),f={type:"simple",evaluate:()=>null},b={getAttribute:(e,t)=>e.field(t)};function y(e,t){if(null==e)return"";const r=t.domain;if(r)if("codedValue"===r.type||"coded-value"===r.type){const t=e;for(const e of r.codedValues)if(e.code===t)return e.name}else if("range"===r.type){const t=+e,n="range"in r?r.range[0]:r.minValue,a="range"in r?r.range[1]:r.maxValue;if(n<=t&&t<=a)return r.name}let n=e;return"date"===t.type||"esriFieldTypeDate"===t.type?n=u.formatDate(n,u.convertDateFormatToIntlOptions("short-date")):s.isNumericField(t)&&(n=o.formatNumber(+n)),n||""}t.createLabelFunction=async function(e,t,n){if(!e||!e.symbol)return f;const a=e.where,u=p.getLabelExpression(e),o=a?await new Promise((function(e,t){r.e(9269).then(function(){var t=[r(69269)];e.apply(null,t)}.bind(this)).catch(t.bind(this))})):null;let m;if("arcade"===u.type){const e=await l.createLabelExpression(u.expression,n,t);m={type:"arcade",evaluate(t){try{const r=e.evaluate({$feature:"attributes"in t?e.repurposeFeature(t):e.repurposeAdapter(t)});if(null!=r)return r.toString()}catch(e){d.error(new i("bad-arcade-expression","Encountered an error when evaluating label expression for feature",{feature:t,expression:u}))}return null},needsHydrationToEvaluate:()=>null==p.getSingleFieldArcadeExpression(u.expression)}}else m={type:"simple",evaluate:e=>u.expression.replace(/{[^}]*}/g,(r=>{const n=r.slice(1,-1),a=s.getField(t,n);if(!a)return r;let i=null;return"attributes"in e?e&&e.attributes&&(i=e.attributes[a.name]):i=e.field(a.name),null==i?"":y(i,a)}))};if(a){let e;try{e=o.WhereClause.create(a,new c(t))}catch(e){return f}const r=m.evaluate;m.evaluate=t=>{const n="attributes"in t?void 0:b;return e.testFeature(t,n)?r(t):null}}return m},t.formatField=y,Object.defineProperty(n,"__esModule",{value:!0})}.apply(t,n))||(e.exports=a)}}]);