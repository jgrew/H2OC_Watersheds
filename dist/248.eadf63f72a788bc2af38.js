(self.webpackChunkh2oc=self.webpackChunkh2oc||[]).push([[248,5978],{10248:(e,a,r)=>{var t,n;t=[a,r(74637),r(9720),r(82438),r(22728),r(13278),r(80353),r(25815),r(75978)],void 0===(n=function(e,r,t,n,i,o,c,l,y){"use strict";async function u(e,a,r){if(!a)return;const n=[];for(const e of a){const a=m(e,r);"GroupLayer"===e.layerType?n.push(v(a,e,r)):n.push(a)}const i=await t.eachAlways(n);for(const a of i)!a.value||r.filter&&!r.filter(a.value)||e.add(a.value)}const s={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer"},p={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},L={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",DefaultTileLayer:"TileLayer"},f={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",VectorTileLayer:"VectorTileLayer",GroupLayer:"GroupLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",GeoRSS:"GeoRSSLayer",KML:"KMLLayer",WFS:"UnsupportedLayer",SubtypeGroupLayer:"UnsupportedLayer",WMS:"WMSLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",DefaultTileLayer:"TileLayer"},d={ArcGISFeatureLayer:"FeatureLayer"},h={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"};async function m(e,a){return async function(e,a,r){const t=new e;return t.read(a,r.context),"group"===t.type&&w(a)&&await async function(e,a,r){const t=c.layerLookupMap.FeatureLayer,n=await t(),i=a.featureCollection,o=i.showLegend,l=i.layers.map((e=>{const a=new n;return a.read(e,r),null!=o&&a.read({showLegend:o},r),a}));e.layers.addMany(l)}(t,a,r.context),await o.loadStyleRenderer(t,r.context),t}(await async function(e,a){const r=a.context,t=function(e){let a;switch(e.origin){case"web-scene":switch(e.layerContainerType){case"basemap":a=L;break;case"ground":a=p;break;default:a=s}break;default:switch(e.layerContainerType){case"basemap":a=h;break;case"tables":a=d;break;default:a=f}}return a}(r);let n=e.layerType||e.type;!n&&a&&a.defaultLayerType&&(n=a.defaultLayerType);const o=t[n];let u=o?c.layerLookupMap[o]:c.layerLookupMap.UnknownLayer;const m=r&&r.portal;if(S(e)){if(e.itemId){const a=new i({id:e.itemId,portal:m});await a.load();const r=(await y.selectLayerClassPath(a)).className||"UnknownLayer";u=c.layerLookupMap[r]}}else"ArcGISFeatureLayer"===n&&(await l.isMapNotesLayer(e,m)?u=c.layerLookupMap.MapNotesLayer:await l.isRouteLayer(e,m)?u=c.layerLookupMap.RouteLayer:w(e)&&(u=c.layerLookupMap.GroupLayer));return e.wmtsInfo&&e.wmtsInfo.url&&e.wmtsInfo.layerIdentifier&&(u=c.layerLookupMap.WMTSLayer),u()}(e,a),e,a)}function w(e){if("ArcGISFeatureLayer"!==e.layerType||S(e))return!1;const a=e.featureCollection;return!!(a&&a.layers&&a.layers.length>1)}function S(e){return"Feature Collection"===e.type}async function v(e,a,r){const t=new n,i=u(t,Array.isArray(a.layers)?a.layers:[],r),o=await e;if(await i,"group"===o.type)return o.layers.addMany(t),o}a.populateOperationalLayers=u,Object.defineProperty(e,"__esModule",{value:!0})}.apply(a,t))||(e.exports=n)},80353:(e,a,r)=>{var t;void 0===(t=function(e,t){"use strict";function n(e){return Object.freeze({__proto__:null,default:e})}const i={BingMapsLayer:async()=>(await new Promise((function(e,a){r.e(1134).then((function(){var a=[r(21134)];(function(a){e(n(a))}).apply(null,a)})).catch(a.bind(this))}))).default,BuildingSceneLayer:async()=>(await new Promise((function(e,a){Promise.all([r.e(4127),r.e(9887)]).then((function(){var a=[r(49887)];(function(a){e(n(a))}).apply(null,a)})).catch(a.bind(this))}))).default,CSVLayer:async()=>(await new Promise((function(e,a){r.e(3805).then((function(){var a=[r(93805)];(function(a){e(n(a))}).apply(null,a)})).catch(a.bind(this))}))).default,ElevationLayer:async()=>(await new Promise((function(e,a){r.e(6839).then((function(){var a=[r(56839)];(function(a){e(n(a))}).apply(null,a)})).catch(a.bind(this))}))).default,FeatureLayer:async()=>(await new Promise((function(e,a){Promise.resolve().then((function(){var a=[r(98757)];(function(a){e(n(a))}).apply(null,a)})).catch(a.bind(this))}))).default,GroupLayer:async()=>(await new Promise((function(e,a){Promise.resolve().then((function(){var a=[r(19461)];(function(a){e(n(a))}).apply(null,a)})).catch(a.bind(this))}))).default,GeoRSSLayer:async()=>(await new Promise((function(e,a){r.e(2670).then((function(){var a=[r(32670)];(function(a){e(n(a))}).apply(null,a)})).catch(a.bind(this))}))).default,ImageryLayer:async()=>(await new Promise((function(e,a){Promise.all([r.e(6117),r.e(9805),r.e(587),r.e(9895)]).then((function(){var a=[r(59895)];(function(a){e(n(a))}).apply(null,a)})).catch(a.bind(this))}))).default,ImageryTileLayer:async()=>(await new Promise((function(e,a){Promise.all([r.e(6117),r.e(9805),r.e(587),r.e(2384)]).then((function(){var a=[r(42384)];(function(a){e(n(a))}).apply(null,a)})).catch(a.bind(this))}))).default,IntegratedMeshLayer:async()=>(await new Promise((function(e,a){Promise.all([r.e(4127),r.e(2435)]).then((function(){var a=[r(2435)];(function(a){e(n(a))}).apply(null,a)})).catch(a.bind(this))}))).default,KMLLayer:async()=>(await new Promise((function(e,a){r.e(3510).then((function(){var a=[r(73510)];(function(a){e(n(a))}).apply(null,a)})).catch(a.bind(this))}))).default,MapImageLayer:async()=>(await new Promise((function(e,a){Promise.all([r.e(5539),r.e(3983)]).then((function(){var a=[r(23983)];(function(a){e(n(a))}).apply(null,a)})).catch(a.bind(this))}))).default,MapNotesLayer:async()=>(await new Promise((function(e,a){r.e(6034).then((function(){var a=[r(76034)];(function(a){e(n(a))}).apply(null,a)})).catch(a.bind(this))}))).default,OpenStreetMapLayer:async()=>(await new Promise((function(e,a){r.e(1244).then((function(){var a=[r(71244)];(function(a){e(n(a))}).apply(null,a)})).catch(a.bind(this))}))).default,PointCloudLayer:async()=>(await new Promise((function(e,a){r.e(6158).then((function(){var a=[r(96158)];(function(a){e(n(a))}).apply(null,a)})).catch(a.bind(this))}))).default,RouteLayer:async()=>(await new Promise((function(e,a){r.e(6788).then((function(){var a=[r(16788)];(function(a){e(n(a))}).apply(null,a)})).catch(a.bind(this))}))).default,SceneLayer:async()=>(await new Promise((function(e,a){Promise.all([r.e(4127),r.e(4145)]).then((function(){var a=[r(54145)];(function(a){e(n(a))}).apply(null,a)})).catch(a.bind(this))}))).default,StreamLayer:async()=>(await new Promise((function(e,a){r.e(4222).then((function(){var a=[r(41361)];(function(a){e(n(a))}).apply(null,a)})).catch(a.bind(this))}))).default,TileLayer:async()=>(await new Promise((function(e,a){Promise.all([r.e(5539),r.e(9445)]).then((function(){var a=[r(39445)];(function(a){e(n(a))}).apply(null,a)})).catch(a.bind(this))}))).default,UnknownLayer:async()=>(await new Promise((function(e,a){r.e(9372).then((function(){var a=[r(59372)];(function(a){e(n(a))}).apply(null,a)})).catch(a.bind(this))}))).default,UnsupportedLayer:async()=>(await new Promise((function(e,a){r.e(5218).then((function(){var a=[r(75218)];(function(a){e(n(a))}).apply(null,a)})).catch(a.bind(this))}))).default,VectorTileLayer:async()=>(await new Promise((function(e,a){Promise.all([r.e(2922),r.e(5739)]).then((function(){var a=[r(17944)];(function(a){e(n(a))}).apply(null,a)})).catch(a.bind(this))}))).default,WebTileLayer:async()=>(await new Promise((function(e,a){r.e(9646).then((function(){var a=[r(49646)];(function(a){e(n(a))}).apply(null,a)})).catch(a.bind(this))}))).default,WMSLayer:async()=>(await new Promise((function(e,a){r.e(9900).then((function(){var a=[r(19900)];(function(a){e(n(a))}).apply(null,a)})).catch(a.bind(this))}))).default,WMTSLayer:async()=>(await new Promise((function(e,a){r.e(9042).then((function(){var a=[r(89042)];(function(a){e(n(a))}).apply(null,a)})).catch(a.bind(this))}))).default};a.layerLookupMap=i,Object.defineProperty(t,"__esModule",{value:!0})}.apply(a,[r,a]))||(e.exports=t)},25815:(e,a,r)=>{var t,n;t=[a,r(22728),r(61973)],void 0===(n=function(e,r,t){"use strict";async function n(e,a,n,i){if(!e.layerType||"ArcGISFeatureLayer"!==e.layerType)return!1;if(e.url)return!1;if(e.featureCollectionType&&e.featureCollectionType===n)return!0;if(e.itemId){const n=new r({id:e.itemId,portal:a});return await n.load(),"Feature Collection"===n.type&&t.hasTypeKeyword(n,i)}return!1}a.isMapNotesLayer=function(e,a){return n(e,a,"notes","Map Notes")},a.isRouteLayer=function(e,a){return n(e,a,"route","Route Layer")},Object.defineProperty(e,"__esModule",{value:!0})}.apply(a,t))||(e.exports=n)},61973:(e,a)=>{var r;void 0===(r=function(e){"use strict";function r(e,a){return!!e.typeKeywords&&e.typeKeywords.indexOf(a)>-1}a.addTypeKeyword=function(e,a){if(!r(e,a)){const r=e.typeKeywords;r?r.push(a):e.typeKeywords=[a]}},a.hasTypeKeyword=r,a.removeTypeKeyword=function(e,a){const r=e.typeKeywords;if(r){const e=r.indexOf(a);e>-1&&r.splice(e,1)}},Object.defineProperty(e,"__esModule",{value:!0})}.apply(a,[a]))||(e.exports=r)},75978:(e,a,r)=>{var t,n;t=[a,r(3718),r(49359),r(9720),r(40810),r(22728),r(61973),r(80353)],void 0===(n=function(e,r,t,n,i,o,c,l){"use strict";function y(e){switch(e.type){case"Map Service":return function(e){return function(e){return d(e.url).then((e=>e.tileInfo))}(e).then((e=>e?{className:"TileLayer"}:{className:"MapImageLayer"}))}(e);case"Feature Service":return function(e){return s(e).then((e=>{if("object"==typeof e){const a={};return null!=e.id&&(a.layerId=e.id),{className:"FeatureLayer",properties:a}}return{className:"GroupLayer"}}))}(e);case"Feature Collection":return async function(e){return await e.load(),c.hasTypeKeyword(e,"Map Notes")?{className:"MapNotesLayer"}:c.hasTypeKeyword(e,"Route Layer")?{className:"RouteLayer"}:1===f(await e.fetchData())?{className:"FeatureLayer"}:{className:"GroupLayer"}}(e);case"Scene Service":return function(e){return s(e).then((a=>{if("object"==typeof a){const r={};let t;if(null!=a.id?(r.layerId=a.id,t=`${e.url}/layers/${a.id}`):t=e.url,Array.isArray(e.typeKeywords)&&e.typeKeywords.length>0){const a={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};for(const r of Object.keys(a))if(-1!==e.typeKeywords.indexOf(r))return{className:a[r]}}return d(t).then((e=>{let a="SceneLayer";const t={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};return e&&e.layerType&&t[e.layerType]&&(a=t[e.layerType]),{className:a,properties:r}}))}return{className:"GroupLayer"}}))}(e);case"Image Service":return async function(e){var a,r,t;await e.load();const n=null!=(a=null==(r=e.typeKeywords)?void 0:r.map((e=>e.toLowerCase())))?a:[];if(n.indexOf("elevation 3d layer")>-1)return{className:"ElevationLayer"};if(n.indexOf("tiled imagery")>-1)return{className:"ImageryTileLayer"};const i=await e.fetchData(),o=null==i?void 0:i.layerType;return"ArcGISTiledImageServiceLayer"===o?{className:"ImageryTileLayer"}:"ArcGISImageServiceLayer"===o?{className:"ImageryLayer"}:"map"===(null==(t=(await d(e.url)).cacheType)?void 0:t.toLowerCase())?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}}(e);case"Stream Service":return{className:"StreamLayer"};case"Vector Tile Service":return{className:"VectorTileLayer"};case"KML":return{className:"KMLLayer"};case"WMTS":return{className:"WMTSLayer"};case"WMS":return{className:"WMSLayer"};default:return n.reject(new t("portal:unknown-item-type","Unknown item type '${type}'",{type:e.type}))}}function u(e){return(0,l.layerLookupMap[e.className])().then((a=>({constructor:a,properties:e.properties})))}function s(e){return!e.url||e.url.match(/\/\d+$/)?n.resolve({}):e.load().then((()=>e.fetchData())).then((a=>f(a)>0?p(a):d(e.url).then(p)))}function p(e){return 1===f(e)&&{id:r.unwrap(L(e))}}function L(e){const a=e.layers;if(a&&a.length)return a[0].id;const r=e.tables;return r&&r.length?r[0].id:null}function f(e){var a,r,t,n;return(null!=(a=null==e||null==(r=e.layers)?void 0:r.length)?a:0)+(null!=(t=null==e||null==(n=e.tables)?void 0:n.length)?t:0)}function d(e){return i(e,{responseType:"json",query:{f:"json"}}).then((e=>e.data))}a.fromItem=function(e){return!e.portalItem||e.portalItem instanceof o||(e={...e,portalItem:new o(e.portalItem)}),(a=e.portalItem,a.load().then(y).then(u)).then((a=>{const r={portalItem:e.portalItem,...a.properties},t=a.constructor;return n.resolve(new t(r))}));var a},a.selectLayerClassPath=y,Object.defineProperty(e,"__esModule",{value:!0})}.apply(a,t))||(e.exports=n)}}]);