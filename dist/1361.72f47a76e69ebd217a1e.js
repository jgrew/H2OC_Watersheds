(self.webpackChunkh2oc=self.webpackChunkh2oc||[]).push([[1361],{5258:(t,e,n)=>{var i,s;i=[e,n(92231),n(57167),n(5892)],void 0===(s=function(t,n,i,s){"use strict";function r(t){if(t)for(let e=t.length-1;e>0;--e)t[e][0]-=t[e-1][0],t[e][1]-=t[e-1][1]}function o(t){if(t)for(const e of t)r(e)}function a(t){if(t){const e=t.length;for(let n=1;n<e;++n)t[n][0]+=t[n-1][0],t[n][1]+=t[n-1][1]}}function h(t){if(t)for(const e of t)a(e)}function l(t){t&&(i.isPolygon(t)?h(t.rings):i.isPolyline(t)?h(t.paths):i.isMultipoint(t)&&a(t.points))}function c(t){t&&t.reverse()}let u=function(){function t(t,e,n,r){this.acceptPolygon=e,this.acceptPolyline=n,this.geomUnitsPerPoint=r,this.pathCount=-1,this.pathIndex=-1,this.iteratePath=!1,t&&(i.isPolygon(t)?e&&(this.multiPath=t.rings,this.isClosed=!0):i.isPolyline(t)?n&&(this.multiPath=t.paths,this.isClosed=!1):i.isExtent(t)&&e&&(this.multiPath=p(t).rings,this.isClosed=!0),this.multiPath&&(this.pathCount=this.multiPath.length)),this.internalPlacement=new s.Placement}return t.prototype.next=function(){if(!this.multiPath)return null;for(;this.iteratePath||this.pathIndex<this.pathCount-1;){this.iteratePath||this.pathIndex++;const t=this.processPath(this.multiPath[this.pathIndex]);if(t)return t}return this.pathCount=-1,this.pathIndex=-1,this.multiPath=null,null},t}(),f=function(){function t(t,e,n,i){this.inputGeometries=t,this.acceptPolygon=e,this.acceptPolyline=n,this.geomUnitsPerPoint=i,this.pathCount=-1,this.pathIndex=-1,this.iteratePath=!1}return t.prototype.next=function(){for(;;){if(!this.multiPath){let t=this.inputGeometries.next();for(;t;){if(i.isPolygon(t)?this.acceptPolygon&&(this.multiPath=t.rings,this.isClosed=!0):i.isPolyline(t)?this.acceptPolyline&&(this.multiPath=t.paths,this.isClosed=!1):i.isExtent(t)&&this.acceptPolygon&&(this.multiPath=p(t).rings,this.isClosed=!0),this.multiPath){this.pathCount=this.multiPath.length,this.pathIndex=-1;break}t=this.inputGeometries.next()}if(!this.multiPath)return null}for(;this.iteratePath||this.pathIndex<this.pathCount-1;){this.iteratePath||this.pathIndex++;const t=this.processPath(this.multiPath[this.pathIndex]);if(t)return t}this.pathCount=-1,this.pathIndex=-1,this.multiPath=null}},t}();function p(t){return{rings:[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]}}e.PathGeometryCursor=f,e.PathTransformationCursor=u,e.cloneAndDecodeGeometry=function(t){const e=n.clone(t);return l(e),e},e.deltaDecodeGeometry=l,e.deltaEncodeGeometry=function(t){t&&(i.isPolygon(t)?o(t.rings):i.isPolyline(t)?o(t.paths):i.isMultipoint(t)&&r(t.points))},e.getCoord2D=function(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]},e.getId=function(t){return t[4]},e.isClosedPath=function(t){return!(!t||0===t.length)&&t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]},e.reverseMultipath=function(t){if(t)for(const e of t)c(e)},e.reversePath=c,e.setId=function(t,e){t[4]=e},Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,i))||(t.exports=s)},26597:(t,e,n)=>{var i,s;i=[e,n(92231)],void 0===(s=function(t,n){"use strict";let i=function(){function t(t){this._geometry=t}return t.prototype.next=function(){const t=this._geometry;return this._geometry=null,t},t}();e.SimpleGeometryCursor=i,e.clone=function(t){return n.clone(t)},Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,i))||(t.exports=s)},21270:(t,e,n)=>{var i,s;i=[e,n(76937),n(2779),n(19226),n(79369),n(83177),n(56270),n(33381),n(95134),n(34514),n(34231),n(64904),n(96505),n(59992),n(63898),n(32021),n(38754),n(26373),n(98557),n(65815),n(84404)],void 0===(s=function(t,n,i,s,r,o,a,h,l,c,u,f,p,_,m,g,d,y,P,x,v){"use strict";e.getEffectOperator=function(t){if(!t)return null;switch(t.type){case"CIMGeometricEffectAddControlPoints":return n.EffectAddControlPoints.local();case"CIMGeometricEffectArrow":return i.EffectArrow.local();case"CIMGeometricEffectBuffer":return s.EffectBuffer.local();case"CIMGeometricEffectCut":return r.EffectCut.local();case"CIMGeometricEffectDashes":return o.EffectDashes.local();case"CIMGeometricEffectDonut":return a.EffectDonut.local();case"CIMGeometricEffectJog":return h.EffectJog.local();case"CIMGeometricEffectMove":return l.EffectMove.local();case"CIMGeometricEffectOffset":return c.EffectOffset.local();case"CIMGeometricEffectReverse":return u.EffectReverse.local();case"CIMGeometricEffectRotate":return f.EffectRotate.local();case"CIMGeometricEffectScale":return p.EffectScale.local();case"CIMGeometricEffectWave":return _.EffectWave.local()}return null},e.getPlacementOperator=function(t){if(!t)return null;switch(t.type){case"CIMMarkerPlacementAlongLineSameSize":return m.PlacementAlongLineSameSize.local();case"CIMMarkerPlacementAtExtremities":return g.PlacementAtExtremities.local();case"CIMMarkerPlacementAtRatioPositions":return d.PlacementAtRatioPositions.local();case"CIMMarkerPlacementInsidePolygon":return y.PlacementInsidePolygon.local();case"CIMMarkerPlacementOnLine":return P.PlacementOnLine.local();case"CIMMarkerPlacementOnVertices":return x.PlacementOnVertices.local();case"CIMMarkerPlacementPolygonCenter":return v.PlacementPolygonCenter.local()}return null},Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,i))||(t.exports=s)},5892:(t,e)=>{var n;void 0===(n=function(t){"use strict";let n=function(){function t(){this.setIdentity()}var e=t.prototype;return e.getAngle=function(){return(null==this.rz||0===this.rz&&1!==this.rz_c&&0!==this.rz_s)&&(this.rz=Math.atan2(this.rz_s,this.rz_c)),this.rz},e.setIdentity=function(){this.tx=0,this.ty=0,this.tz=0,this.s=1,this.rx=0,this.ry=0,this.rz=0,this.rz_c=1,this.rz_s=0},e.setTranslate=function(t,e){this.tx=t,this.ty=e},e.setTranslateZ=function(t){this.tz=t},e.setRotateCS=function(t,e){this.rz=void 0,this.rz_c=t,this.rz_s=e},e.setRotate=function(t){this.rz=t,this.rz_c=void 0,this.rz_s=void 0},e.setRotateY=function(t){this.ry=t},e.setScale=function(t){this.s=t},e.setMeasure=function(t){this.m=t},t}(),i=function(){function t(){}return t.prototype.next=function(){return null},t}();e.EmptyPlacementCursor=i,e.Placement=n,Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,[e]))||(t.exports=n)},71212:(t,e,n)=>{var i,s;i=[e,n(58797),n(73462),n(63629),n(57167),n(18167),n(5892),n(26597),n(21270),n(29282)],void 0===(s=function(t,n,i,s,r,o,a,h,l,c){"use strict";const u=Math.PI/180,f=i.getLogger("esri.symbols.cim.CIMSymbolDrawHelper");let p=function(){function t(t){this._t=t}t.createIdentity=function(){return new t([1,0,0,0,1,0])};var e=t.prototype;return e.clone=function(){return new t(this._t.slice())},e.transform=function(t){const e=this._t;return[e[0]*t[0]+e[1]*t[1]+e[2],e[3]*t[0]+e[4]*t[1]+e[5]]},t.createScale=function(e,n){return new t([e,0,0,0,n,0])},e.scale=function(t,e){const n=this._t;return n[0]*=t,n[1]*=t,n[2]*=t,n[3]*=e,n[4]*=e,n[5]*=e,this},e.scaleRatio=function(){return Math.sqrt(this._t[0]*this._t[0]+this._t[1]*this._t[1])},t.createTranslate=function(e,n){return new t([0,0,e,0,0,n])},e.translate=function(t,e){const n=this._t;return n[2]+=t,n[5]+=e,this},t.createRotate=function(e){const n=Math.cos(e),i=Math.sin(e);return new t([n,-i,0,i,n,0])},e.rotate=function(e){return this.multiply(t.createRotate(e))},e.multiply=function(t){const e=this._t,n=t._t,i=e[0]*n[0]+e[3]*n[1],s=e[1]*n[0]+e[4]*n[1],r=e[2]*n[0]+e[5]*n[1]+n[2],o=e[0]*n[3]+e[3]*n[4],a=e[1]*n[3]+e[4]*n[4],h=e[2]*n[3]+e[5]*n[4]+n[5];return e[0]=i,e[1]=s,e[2]=r,e[3]=o,e[4]=a,e[5]=h,this},t}(),_=function(){function t(t){this._transfos=[],this._sizeTransfos=[],this._transfos.push(t||p.createIdentity()),this._sizeTransfos.push(t?t.scaleRatio():1)}var e=t.prototype;return e.transformPt=function(t){return this._transfos[this._transfos.length-1].transform(t)},e.transformSize=function(t){return t*this._sizeTransfos[this._sizeTransfos.length-1]},e.back=function(){return this._transfos[this._transfos.length-1]},e.push=function(t,e){const n=e?t.scaleRatio():1;t.multiply(this.back()),this._transfos.push(t),this._sizeTransfos.push(this._sizeTransfos[this._sizeTransfos.length-1]*n)},e.pop=function(){this._transfos.splice(-1,1),this._sizeTransfos.splice(-1,1)},e.drawSymbol=function(t,e){if(t)switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":this.drawMultiLayerSymbol(t,e)}},e.drawMultiLayerSymbol=function(t,e){if(!t)return;const n=t.symbolLayers;if(!n)return;const i=t.effects;if(i){const t=this.executeEffects(i,e);if(t){let e=t.next();for(;e;)this.drawSymbolLayers(n,e),e=t.next()}}else this.drawSymbolLayers(n,e)},e.executeEffects=function(t,e){let n=new h.SimpleGeometryCursor(e);for(const e of t){const t=l.getEffectOperator(e);t&&(n=t.execute(n,e,1))}return n},e.drawSymbolLayers=function(t,e){let n=t.length;for(;n--;){const i=t[n];if(!i||!1===i.enable)continue;const s=i.effects;if(s){const t=this.executeEffects(s,e);if(t){let e=t.next();for(;e;)this.drawSymbolLayer(i,e),e=t.next()}}else this.drawSymbolLayer(i,e)}},e.drawSymbolLayer=function(t,e){switch(t.type){case"CIMSolidFill":this.drawSolidFill(e,t.color);break;case"CIMHatchFill":this.drawHatchFill(t,e);break;case"CIMSolidStroke":this.drawSolidStroke(e,t.color,t.width,t.capStyle,t.joinStyle,t.miterLimit);break;case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":this.drawMarkerLayer(t,e)}},e.drawHatchFill=function(t,e){const n=this._buildHatchPolyline(t,e,1);n&&(this.pushClipPath(e),this.drawMultiLayerSymbol(t.lineSymbol,n),this.popClipPath())},e.drawMarkerLayer=function(t,e){const n=t.markerPlacement;if(n){const i=l.getPlacementOperator(n);if(i){const s="CIMMarkerPlacementInsidePolygon"===n.type;s&&this.pushClipPath(e);const r=1,o=i.execute(e,n,r);if(o){let e=o.next();for(;e;)this.drawMarker(t,e),e=o.next()}s&&this.popClipPath()}}else{const n=new a.Placement;n.tx=e.x,n.ty=e.y,this.drawMarker(t,n)}},e.drawMarker=function(t,e){switch(t.type){case"CIMCharacterMarker":case"CIMPictureMarker":this.drawPictureMarker(t,e);break;case"CIMVectorMarker":this.drawVectorMarker(t,e)}},e.drawPictureMarker=function(t,e){},e.drawVectorMarker=function(t,e){if(!t)return;const n=t.markerGraphics;if(!n)return;const i=t.size,s=t.frame,r=s?s.ymax-s.ymin:0,o=i&&r?i/r:1,a=p.createIdentity();s&&a.translate(.5*-(s.xmax+s.xmin),.5*-(s.ymax+s.ymin));const h=t.anchorPoint;if(h){let e=h.x,n=h.y;"Absolute"!==t.anchorPointUnits&&s&&(e*=s.xmax-s.xmin,n*=s.ymax-s.ymin),a.translate(-e,-n)}1!==o&&a.scale(o,o),t.rotation&&a.rotate(t.rotation*u),a.translate(t.offsetX||0,t.offsetY||0),a.translate(e.tx,e.ty),this.push(a,t.scaleSymbolsProportionally);for(const t of n)t&&t.symbol&&t.geometry||f.error("Invalid marker graphic",t),this.drawSymbol(t.symbol,t.geometry);this.pop()},e._buildHatchPolyline=function(t,e,n){let i=(void 0!==t.separation?t.separation:4)*n,r=void 0!==t.rotation?t.rotation:0;if(0===i)return null;i<0&&(i=-i);let a=0;const h=.5*i;for(;a>h;)a-=i;for(;a<-h;)a+=i;const l=o.create();s.getBoundsXY(l,e),l[0]-=h,l[1]-=h,l[2]+=h,l[3]+=h;const c=[[l[0],l[1]],[l[0],l[3]],[l[2],l[3]],[l[2],l[1]]];for(;r>180;)r-=180;for(;r<0;)r+=180;const f=Math.cos(r*u),p=Math.sin(r*u),_=-i*p,m=i*f;let g,d,y,P;a=(void 0!==t.offsetX?t.offsetX*n:0)*p-(void 0!==t.offsetY?t.offsetY*n:0)*f,g=y=Number.MAX_VALUE,d=P=-Number.MAX_VALUE;for(const t of c){const e=t[0],n=t[1],i=f*e+p*n,s=-p*e+f*n;g=Math.min(g,i),y=Math.min(y,s),d=Math.max(d,i),P=Math.max(P,s)}y=Math.floor(y/i)*i;let x=f*g-p*y-_*a/i,v=p*g+f*y-m*a/i,M=f*d-p*y-_*a/i,C=p*d+f*y-m*a/i;const S=1+Math.round((P-y)/i),b=[];for(let t=0;t<S;t++)x+=_,v+=m,M+=_,C+=m,b.push([[x,v],[M,C]]);return{paths:b}},t}(),m=function(t){function e(){var e;return(e=t.call(this)||this).reset(),e}n._inheritsLoose(e,t);var i=e.prototype;return i.reset=function(){this._xmin=this._ymin=1/0,this._xmax=this._ymax=-1/0,this._clipCount=0},i.envelope=function(){return new c(this._xmin,this._ymin,this._xmax-this._xmin,this._ymax-this._ymin)},i.drawSolidFill=function(t){!t||this._clipCount>0||(r.isPolygon(t)?this._processPath(t.rings,0):r.isPolyline(t)&&this._processPath(t.paths,0))},i.drawSolidStroke=function(t,e,n){if(!t||this._clipCount>0)return;const i=.5*this.transformSize(n);r.isPolygon(t)?this._processPath(t.rings,i):r.isPolyline(t)&&this._processPath(t.paths,i)},i.pushClipPath=function(t){this.drawSolidFill(t),++this._clipCount},i.popClipPath=function(){--this._clipCount},i._processPath=function(t,e){if(t)for(const n of t){const t=n?n.length:0;if(t>1){this._merge(this.transformPt(n[0]),e);for(let i=1;i<t;++i)this._merge(this.transformPt(n[i]),e)}}},i._merge=function(t,e){t[0]-e<this._xmin&&(this._xmin=t[0]-e),t[0]+e>this._xmax&&(this._xmax=t[0]+e),t[1]-e<this._ymin&&(this._ymin=t[1]-e),t[1]+e>this._ymax&&(this._ymax=t[1]+e)},e}(_),g=function(t){function e(e,n){var i;return(i=t.call(this,n)||this)._ctx=e,i}n._inheritsLoose(e,t);var i=e.prototype;return i.drawSolidFill=function(t,e){if(!t)return;if(r.isPolygon(t))this._buildPath(t.rings,!0);else{if(!r.isPolyline(t))return;this._buildPath(t.paths,!0)}const n=this._ctx;n.fillStyle="string"==typeof e?e:"rgba("+Math.round(e[0])+","+Math.round(e[1])+","+Math.round(e[2])+","+e[3]/255+")",n.fill("evenodd")},i.drawSolidStroke=function(t,e,n,i,s,o){if(!t||!e||0===n)return;if(r.isPolygon(t))this._buildPath(t.rings,!0);else{if(!r.isPolyline(t))return;this._buildPath(t.paths,!1)}const a=this._ctx;a.strokeStyle="string"==typeof e?e:"rgba("+Math.round(e[0])+","+Math.round(e[1])+","+Math.round(e[2])+","+e[3]/255+")",a.lineWidth=this.transformSize(n)+.5,this._setCapStyle(i),this._setJoinStyle(s),a.miterLimit=o,a.stroke()},i.pushClipPath=function(t){this._ctx.save(),r.isPolygon(t)?this._buildPath(t.rings,!0):r.isPolyline(t)&&this._buildPath(t.paths,!0),this._ctx.clip("evenodd")},i.popClipPath=function(){this._ctx.restore()},i._buildPath=function(t,e){const n=this._ctx;if(n.beginPath(),t)for(const i of t){const t=i?i.length:0;if(t>1){let s=this.transformPt(i[0]);n.moveTo(s[0],s[1]);for(let e=1;e<t;++e)s=this.transformPt(i[e]),n.lineTo(s[0],s[1]);e&&n.closePath()}}},i._setCapStyle=function(t){switch(t){case"Butt":this._ctx.lineCap="butt";break;case"Round":this._ctx.lineCap="round";break;case"Square":this._ctx.lineCap="square"}},i._setJoinStyle=function(t){switch(t){case"Bevel":this._ctx.lineJoin="bevel";break;case"Round":this._ctx.lineJoin="round";break;case"Miter":this._ctx.lineJoin="miter"}},e}(_);e.CIMSymbolDrawHelper=_,e.C_DEG_TO_RAD=u,e.CanvasDrawHelper=g,e.EnvDrawHelper=m,e.Transformation=p,Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,i))||(t.exports=s)},51361:(t,e,n)=>{var i,s;i=[e,n(73462),n(3438),n(46674),n(5892),n(71212),n(58597)],void 0===(s=function(t,n,i,s,r,o,a){"use strict";const h=Math.PI,l=h/2,c=n.getLogger("esri.symbols.cim.CIMSymbolHelper");function u(t,e){switch(e.type){case"CIMSymbolReference":{const n={type:"point",x:0,y:0};t.drawSymbol(e.symbol,n);break}case"CIMPointSymbol":{const n={type:"point",x:0,y:0};t.drawSymbol(e,n);break}case"CIMTextSymbol":break;case"CIMVectorMarker":{const n=new r.Placement;t.drawMarker(e,n);break}}return t.envelope()}let f=function(){function t(){}return t.getEnvelope=function(t){const e=new o.EnvDrawHelper;if(Array.isArray(t)){let n;for(const i of t)n?n.union(u(e,i)):n=u(e,i);return n}return u(e,t)},t.getTextureAnchor=function(t){const e=this.getEnvelope(t);if(!e||e.width<=0||e.height<=0)return[0,0,0];const n=96/72,i=(e.x+.5*e.width)*n,s=-(e.y+.5*e.height)*n,r=e.width*n+2,o=e.height*n+2;return[i/r,s/o,o]},t.rasterize=function(t,e,n,i=!0){const s=n||this.getEnvelope(e);if(!s||s.width<=0||s.height<=0)return[null,0,0,0,0];const a=96/72,h=(s.x+.5*s.width)*a,l=(s.y+.5*s.height)*a;t.width=s.width*a,t.height=s.height*a,n||(t.width+=2,t.height+=2);const c=t.getContext("2d"),u=o.Transformation.createScale(a,-a);u.translate(.5*t.width-h,.5*t.height+l);const f=new o.CanvasDrawHelper(c,u);switch(e.type){case"CIMPointSymbol":{const t={type:"point",x:0,y:0};f.drawSymbol(e,t);break}case"CIMVectorMarker":{const t=new r.Placement;f.drawMarker(e,t);break}}const p=c.getImageData(0,0,t.width,t.height),_=new Uint8Array(p.data);if(i){let t;for(let e=0;e<_.length;e+=4)t=_[e+3]/255,_[e]=_[e]*t,_[e+1]=_[e+1]*t,_[e+2]=_[e+2]*t}return[_,t.width,t.height,-h/t.width,-l/t.height]},t.fromSimpleMarker=function(t){const e=50;let n,i;const s=t.style;if("circle"===s||"esriSMSCircle"===s){const t=.25;let s=Math.acos(1-t/e),r=Math.ceil(h/s/4);0===r&&(r=1),s=l/r,r*=4;const o=[];o.push([e,0]);for(let t=1;t<r;t++)o.push([e*Math.cos(t*s),-50*Math.sin(t*s)]);o.push([e,0]),n={rings:[o]},i={xmin:-50,ymin:-50,xmax:e,ymax:e}}else if("cross"===s||"esriSMSCross"===s){const t=0;n={rings:[[[t,e],[t,t],[e,t],[e,-t],[t,-t],[t,-50],[-t,-50],[-t,-t],[-50,-t],[-50,t],[-t,t],[-t,e],[t,e]]]},i={xmin:-50,ymin:-50,xmax:e,ymax:e}}else if("diamond"===s||"esriSMSDiamond"===s)n={rings:[[[-50,0],[0,e],[e,0],[0,-50],[-50,0]]]},i={xmin:-50,ymin:-50,xmax:e,ymax:e};else if("square"===s||"esriSMSSquare"===s)n={rings:[[[-50,-50],[-50,e],[e,e],[e,-50],[-50,-50]]]},i={xmin:-50,ymin:-50,xmax:e,ymax:e};else if("x"===s||"esriSMSX"===s){const t=0;n={rings:[[[0,t],[e-t,e],[e,e-t],[t,0],[e,t-e],[e-t,-50],[0,-t],[t-e,-50],[-50,t-e],[-t,0],[-50,e-t],[t-e,e],[0,t]]]},i={xmin:-50,ymin:-50,xmax:e,ymax:e}}else if("triangle"===s||"esriSMSTriangle"===s){const t=57.735026918962575,e=-t,s=2/3*100,r=s-100;n={rings:[[[e,r],[0,s],[t,r],[e,r]]]},i={xmin:e,ymin:r,xmax:t,ymax:s}}else"arrow"!==s&&"esriSMSArrow"!==s||(n={rings:[[[-50,50],[50,0],[-50,-50],[-33,-20],[-33,20],[-50,50]]]},i={xmin:-50,ymin:-50,xmax:e,ymax:e});let r;if(n&&i){const e=[{type:"CIMSolidFill",enable:!0,color:t.color}];t.outline&&e.push({type:"CIMSolidStroke",enable:!0,width:t.outline.width,color:t.outline.color});const s={type:"CIMPolygonSymbol",symbolLayers:e};r={type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,rotation:t.angle,size:t.size,offsetX:t.xoffset,offsetY:t.yoffset,frame:i,markerGraphics:[{type:"CIMMarkerGraphic",geometry:n,symbol:s}]}]}}return r},t.fromCIMHatchFill=function(t){const e=void 0!==t.separation?t.separation:4,n=e/2;let i=this._getLineSymbolPeriod(t.lineSymbol)||4;for(;i<4;)i*=2;const s=i/2;return{type:"CIMVectorMarker",frame:{xmin:-s,xmax:s,ymin:-n,ymax:n},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[-s,0],[s,0]]]},symbol:t.lineSymbol}],size:e}},t._getLineSymbolPeriod=function(t){if(t){const e=this._getEffectsRepeat(t.effects);if(e)return e;if(t.symbolLayers)for(const e of t.symbolLayers){const t=this._getEffectsRepeat(e.effects);if(t)return t;if(e){const t=this._getPlacementRepeat(e.markerPlacement);if(t)return t}}}return 0},t._getEffectsRepeat=function(t){if(t)for(const e of t)if(e)switch(e.type){case"CIMGeometricEffectDashes":{const t=e.dashTemplate;if(t&&t.length){let e=0;for(const n of t)e+=n;return 1&t.length&&(e*=2),e}break}case"CIMGeometricEffectWave":return e.period;default:c.error(`unsupported geometric effect type ${e.type}`)}return 0},t._getPlacementRepeat=function(t){if(t)switch(t.type){case"CIMMarkerPlacementAlongLineSameSize":case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineVariableSize":{const e=t.placementTemplate;if(e&&e.length){let t=0;for(const n of e)t+=n;return 1&e.length&&(t*=2),t}break}}return 0},t.fromCIMInsidePolygon=function(t){const e=t.markerPlacement,n=e.stepX/2,i=e.stepY/2,s={xmin:-n,xmax:n,ymin:-i,ymax:i},r={type:t.type,...t};return r.markerPlacement=null,r.anchorPoint=null,{type:"CIMVectorMarker",frame:s,markerGraphics:[{type:"CIMMarkerGraphic",geometry:{x:0,y:0},symbol:{type:"CIMPointSymbol",symbolLayers:[r]}}],size:e.stepY}},t.getFillColor=function(e){if(!e)return null;switch(e.type){case"CIMPolygonSymbol":if(e.symbolLayers)for(const n of e.symbolLayers){const e=t.getFillColor(n);if(null!=e)return e}break;case"CIMTextSymbol":return t.getFillColor(e.symbol);case"CIMSolidFill":return e.color}},t.getStrokeColor=function(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers)for(const n of e.symbolLayers){const e=t.getStrokeColor(n);if(void 0!==e)return e}break;case"CIMTextSymbol":return t.getStrokeColor(e.symbol);case"CIMSolidStroke":return e.color}},t.getStrokeWidth=function(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers)for(const n of e.symbolLayers){const e=t.getStrokeWidth(n);if(void 0!==e)return e}break;case"CIMTextSymbol":return t.getStrokeWidth(e.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return e.width}},t.getSize=function(e){if(e)switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{let n=0;if(e.symbolLayers)for(const i of e.symbolLayers){const e=t.getSize(i);e>n&&(n=e)}return n}case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":return e.width;case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":return e.size}},t.getMarkerScaleRatio=function(t){if(t)switch(t.type){case"CIMVectorMarker":if(!1!==t.scaleSymbolsProportionally&&t.frame){const e=t.frame.ymax-t.frame.ymin;return t.size/e}}return 1},t}(),p=function(){function t(){}return t.rasterizeSimpleFill=function(t,e,n){"solid"!==e&&"none"!==e&&"esriSFSSolid"!==e&&"esriSFSNull"!==e||console.error("Unexpected: style does not require rasterization");const s=i.nextPowerOfTwo(Math.ceil(n)),r=this._isHorizontalOrVertical(e)?8*s:16*s,o=2*s;t.width=r,t.height=r;const a=t.getContext("2d");a.strokeStyle="#FFFFFF",a.lineWidth=s,a.beginPath(),"vertical"!==e&&"cross"!==e&&"esriSFSCross"!==e&&"esriSFSVertical"!==e||(a.moveTo(r/2,-o),a.lineTo(r/2,r+o)),"horizontal"!==e&&"cross"!==e&&"esriSFSCross"!==e&&"esriSFSHorizontal"!==e||(a.moveTo(-o,r/2),a.lineTo(r+o,r/2)),"forward-diagonal"!==e&&"diagonal-cross"!==e&&"esriSFSDiagonalCross"!==e&&"esriSFSForwardDiagonal"!==e||(a.moveTo(-o,-o),a.lineTo(r+o,r+o),a.moveTo(r-o,-o),a.lineTo(r+o,o),a.moveTo(-o,r-o),a.lineTo(o,r+o)),"backward-diagonal"!==e&&"diagonal-cross"!==e&&"esriSFSBackwardDiagonal"!==e&&"esriSFSDiagonalCross"!==e||(a.moveTo(r+o,-o),a.lineTo(-o,r+o),a.moveTo(o,-o),a.lineTo(-o,o),a.moveTo(r+o,r-o),a.lineTo(r-o,r+o)),a.stroke();const h=a.getImageData(0,0,t.width,t.height),l=new Uint8Array(h.data);let c;for(let t=0;t<l.length;t+=4)c=l[t+3]/255,l[t]=l[t]*c,l[t+1]=l[t+1]*c,l[t+2]=l[t+2]*c;return[l,t.width,t.height]},t.rasterizeSimpleLine=function(t,e){let n;switch(e){case"butt":n="Butt";break;case"square":n="Square";break;default:n="Round"}const i="Butt"===n;let s;switch(t){case"dash":case"esriSLSDash":s=i?[4,3]:[3,4];break;case"dash-dot":case"esriSLSDashDot":s=i?[4,3,1,3]:[3,4,0,4];break;case"dot":case"esriSLSDot":s=i?[1,3]:[0,4];break;case"long-dash":case"esriSLSLongDash":s=i?[8,3]:[7,4];break;case"long-dash-dot":case"esriSLSLongDashDot":s=i?[8,3,1,3]:[7,4,0,4];break;case"long-dash-dot-dot":case"esriSLSDashDotDot":s=i?[8,3,1,3,1,3]:[7,4,0,4,0,4];break;case"short-dash":case"esriSLSShortDash":s=i?[4,1]:[3,2];break;case"short-dash-dot":case"esriSLSShortDashDot":s=i?[4,1,1,1]:[3,2,0,2];break;case"short-dash-dot-dot":case"esriSLSShortDashDotDot":s=i?[4,1,1,1,1,1]:[3,2,0,2,0,2];break;case"short-dot":case"esriSLSShortDot":s=i?[1,1]:[0,2];break;case"solid":case"esriSLSSolid":case"none":c.error("Unexpected: style does not require rasterization"),s=[0,0];break;default:c.error(`Tried to rasterize SLS, but found an unexpected style: ${t}!`),s=[0,0]}return this.rasterizeDash(s,n)},t.rasterizeDash=function(t,e){const n="Butt"===e,i="Square"===e,s=!n&&!i;let r=0;for(const e of t)r+=e;const o=15*r,h=31*o,l=new Float32Array(h),c=s?225:15;for(let t=0;t<h;++t)l[t]=c;const u=7.5;let f=0,p=0,_=!0;for(const e of t){f=p,p+=15*e;let t=f;for(;t<p;){let e=0;for(;e<31;){const r=e*o+t,a=s?(e-15)*(e-15):Math.abs(e-15);l[r]=_?n?Math.max(Math.max(f+u-t,a),Math.max(t-p+u,a)):a:s?Math.min((t-f)*(t-f)+a,(t-p)*(t-p)+a):i?Math.min(Math.max(t-f,a),Math.max(p-t,a)):Math.min(Math.max(t-f+u,a),Math.max(p+u-t,a)),e++}t++}_=!_}const m=l.length,g=new Uint8Array(4*m);for(let t=0;t<m;++t){const e=(s?Math.sqrt(l[t]):l[t])/15;a.packFloatRGBA(e,g,4*t)}return[g,o,31]},t._isHorizontalOrVertical=function(t){return"vertical"===t||"horizontal"===t||"cross"===t||"esriSFSCross"===t||"esriSFSVertical"===t||"esriSFSHorizontal"===t},t}(),_=function(){function t(){}return t.findApplicableOverrides=function(e,n,i){if(n){if(e.primitiveName){let t=!1;for(const n of i)if(n.primitiveName===e.primitiveName){t=!0;break}if(!t)for(const t of n)t.primitiveName===e.primitiveName&&i.push(t)}switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(e.effects)for(const s of e.effects)t.findApplicableOverrides(s,n,i);if(e.symbolLayers)for(const s of e.symbolLayers)t.findApplicableOverrides(s,n,i);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":case"CIMSolidFill":case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":if(e.effects)for(const s of e.effects)t.findApplicableOverrides(s,n,i);if(e.markerPlacement&&t.findApplicableOverrides(e.markerPlacement,n,i),"CIMVectorMarker"===e.type){if(e.markerGraphics)for(const s of e.markerGraphics)t.findApplicableOverrides(s,n,i),t.findApplicableOverrides(s.symbol,n,i)}else"CIMCharacterMarker"===e.type?t.findApplicableOverrides(e.symbol,n,i):"CIMHatchFill"===e.type&&t.findApplicableOverrides(e.lineSymbol,n,i)}}},t.applyOverrides=function(e,n,i,s){if(n){if(e.primitiveName)for(const o of n)if(o.primitiveName===e.primitiveName){const n=(r=o.propertyName)?r.charAt(0).toLowerCase()+r.substr(1):r;if(s&&s.push({cim:e,nocapPropertyName:n,value:e[n]}),o.expression&&(o.value=t.toValue(o.propertyName,o.expression)),i){let t=!1;for(const n of i)n.primitiveName===e.primitiveName&&(t=!0);t||i.push(o)}e[n]=o.value}var r;switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(e.effects)for(const r of e.effects)t.applyOverrides(r,n,i,s);if(e.symbolLayers)for(const r of e.symbolLayers)t.applyOverrides(r,n,i,s);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMSolidFill":case"CIMVectorMarker":if(e.effects)for(const r of e.effects)t.applyOverrides(r,n,i,s);if("CIMVectorMarker"===e.type&&e.markerGraphics)for(const r of e.markerGraphics)t.applyOverrides(r,n,i,s),t.applyOverrides(r.symbol,n,i,s)}}},t.restoreOverrides=function(t){for(const e of t)e.cim[e.nocapPropertyName]=e.value},t.buildOverrideKey=function(t){let e="";for(const n of t)void 0!==n.value&&(e+=`${n.primitiveName}${n.propertyName}${JSON.stringify(n.value)}`);return e},t.toValue=function(t,e){if("DashTemplate"===t)return e.split(" ").map((t=>Number(t)));if("Color"===t){const t=new s(e).toRgba();return t[3]*=255,t}return e},t}();e.CIMSymbolHelper=f,e.OverrideHelper=_,e.SymbolHelper=p,Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,i))||(t.exports=s)},31902:(t,e)=>{var n;void 0===(n=function(t){"use strict";let n=function(){function t(){this._path=[]}var e=t.prototype;return e.path=function(){return this._path},e.addPath=function(t,e){e||t.reverse(),Array.prototype.push.apply(this._path,t),e||t.reverse()},t.mergePath=function(t,e){e&&Array.prototype.push.apply(t,e)},e.startPath=function(t){this._path.push(t)},e.lineTo=function(t){this._path.push(t)},e.close=function(){const t=this._path;t.length>1&&(t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]||t.push([t[0][0],t[0][1]]))},t}(),i=function(){function t(t=0,e=!1){}var e=t.prototype;return e.normalize=function(t){const e=Math.sqrt(t[0]*t[0]+t[1]*t[1]);t[0]/=e,t[1]/=e},e.calculateLength=function(t,e){const n=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(n*n+i*i)},e.calculateSegLength=function(t,e){return this.calculateLength(t[e],t[e+1])},e.calculatePathLength=function(t){let e=0;const n=t?t.length:0;for(let i=0;i<n-1;++i)e+=this.calculateSegLength(t,i);return e},e.calculatePathArea=function(t){let e=0;const n=t?t.length:0;for(let i=0;i<n-1;++i)e+=(t[i+1][0]-t[i][0])*(t[i+1][1]+t[i][1]);return e/2},e.getCoord2D=function(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]},e.getSegCoord2D=function(t,e,n){return this.getCoord2D(t[e],t[e+1],n)},e.getAngle=function(t,e,n){const i=e[0]-t[0],s=e[1]-t[1];return Math.atan2(s,i)},e.getSegAngle=function(t,e,n){return this.getAngle(t[e],t[e+1],n)},e.getAngleCS=function(t,e,n){const i=e[0]-t[0],s=e[1]-t[1],r=Math.sqrt(i*i+s*s);return r>0?[i/r,s/r]:[1,0]},e.getSegAngleCS=function(t,e,n){return this.getAngleCS(t[e],t[e+1],n)},e.cut=function(t,e,n,i){return[n<=0?t[e]:this.getSegCoord2D(t,e,n),i>=1?t[e+1]:this.getSegCoord2D(t,e,i)]},e.addSegment=function(t,e,n){n&&t.push(e[0]),t.push(e[1])},e.getSubCurve=function(t,e,n){const i=[];return this.appendSubCurve(i,t,e,n)?i:null},e.appendSubCurve=function(t,e,n,i){const s=e?e.length-1:0;let r=0,o=!0,a=0;for(;a<s;){const s=this.calculateSegLength(e,a);if(0!==s){if(o){if(r+s>n){const h=(n-r)/s;let l=1,c=!1;r+s>=i&&(l=(i-r)/s,c=!0);const u=this.cut(e,a,h,l);if(u&&this.addSegment(t,u,o),c)break;o=!1}}else{if(r+s>i){const n=this.cut(e,a,0,(i-r)/s);n&&this.addSegment(t,n,o);break}this.addSegment(t,[e[a],e[a+1]],o)}r+=s,++a}else++a}return!0},e.getCIMPointAlong=function(t,e){const n=t?t.length-1:0;let i=0,s=-1;for(;s<n;){++s;const n=this.calculateSegLength(t,s);if(0!==n){if(i+n>e){const r=(e-i)/n;return this.getCoord2D(t[s],t[s+1],r)}i+=n}}return null},e.isEmpty=function(t,e){if(!t||t.length<=1)return!0;const n=t?t.length-1:0;let i=-1;for(;i<n;){if(++i,t[i+1][0]!==t[i][0]||t[i+1][1]!==t[i][1])return!1;if(e&&t[i+1][2]!==t[i][2])return!1}return!0},e.offset=function(t,e,n,i,s){if(!t||t.length<2)return null;let r=t.length;const o=t[0][0]===t[r-1][0]&&t[0][1]===t[r-1][1];if(o){if(t.length<3)return null;--r}const a=[];let h=o?t[r-1]:null,l=t[0];for(let s=0;s<r;s++){const c=s===r-1?o?t[0]:null:t[s+1];if(h)if(c){const t=[c[0]-l[0],c[1]-l[1]];this.normalize(t);const s=[l[0]-h[0],l[1]-h[1]];this.normalize(s);const r=s[0]*t[1]-s[1]*t[0],o=s[0]*t[0]+s[1]*t[1];if(r>=0==e<=0){const n=[t[0]-s[0],t[1]-s[1]];this.normalize(n);const i=Math.sqrt((1+o)/2),r=-Math.abs(e)/i;a.push([l[0]-n[0]*r,l[1]-n[1]*r])}else switch(n){case"Mitered":{const n=Math.sqrt((1+o)/2);if(n>0&&1/n<i){const i=[t[0]-s[0],t[1]-s[1]];this.normalize(i);const r=Math.abs(e)/n;a.push([l[0]-i[0]*r,l[1]-i[1]*r]);break}}case"Bevelled":a.push([l[0]+s[1]*e,l[1]-s[0]*e]),a.push([l[0]+t[1]*e,l[1]-t[0]*e]);break;case"Rounded":{a.push([l[0]+s[1]*e,l[1]-s[0]*e]);const n=5,i=1/n;let r=i;for(let o=1;o<n;o++,r+=i){const n=[s[1]*(1-r)+t[1]*r,-s[0]*(1-r)-t[0]*r];this.normalize(n),a.push([l[0]+n[0]*e,l[1]+n[1]*e])}a.push([l[0]+t[1]*e,l[1]-t[0]*e]);break}case"Square":default:if(r<0)a.push([l[0]+(s[1]+s[0])*e,l[1]+(s[1]-s[0])*e]),a.push([l[0]+(t[1]-t[0])*e,l[1]-(t[0]+t[1])*e]);else{const n=Math.sqrt((1+Math.abs(o))/2),i=[t[0]-s[0],t[1]-s[1]];this.normalize(i);const r=e/n;a.push([l[0]-i[0]*r,l[1]-i[1]*r])}}}else{const t=[l[0]-h[0],l[1]-h[1]];this.normalize(t),a.push([l[0]+t[1]*e,l[1]-t[0]*e])}else{const t=[c[0]-l[0],c[1]-l[1]];this.normalize(t),a.push([l[0]+t[1]*e,l[1]-t[0]*e])}h=l,l=c}return o&&a.push([a[0][0],a[0][1]]),a},t}();e.CurveHelper=i,e.PIXEL_TOLERANCE=.03,e.PathHelper=n,Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,[e]))||(t.exports=n)},12037:(t,e,n)=>{var i,s;i=[e,n(58797),n(5258),n(31902)],void 0===(s=function(t,n,i,s){"use strict";let r=function(){function t(){this._values=[],this.extPtGap=0,this.ctrlPtGap=0,this._length=0,this._currentValue=0}var e=t.prototype;return e.isEmpty=function(){return 0===this._values.length},e.size=function(){return this._values.length},e.init=function(t,e,n=!0){if(this._setEmpty(),!t||0===t.length)return!1;for(let e=0;e<t.length;e++){let i=Math.abs(t[e]);n&&i<1e-7&&(i=1e-7),this._values.push(i),this._length+=i}return e&&1&t.length&&(this._length*=2),0!==this._length&&(this.ctrlPtGap=this.extPtGap=0,this._currentValue=-1,!0)},e.scale=function(t){const e=this._values?this._values.length:0;for(let n=0;n<e;++n)this._values[n]*=t;this._length*=t,this.extPtGap*=t,this.ctrlPtGap*=t},e.addValue=function(t){this._length+=t,this._values.push(t)},e.firstValue=function(){return this._values[0]},e.lastValue=function(){return this._values[this._values.length-1]},e.nextValue=function(){return this._currentValue++,this._currentValue===this._values.length&&(this._currentValue=0),this._values[this._currentValue]},e.reset=function(){this._currentValue=-1},e.length=function(){return this._length},e._setEmpty=function(){this.extPtGap=this.ctrlPtGap=this._length=0,this._currentValue=-1,this._values.length=0},t}(),o=function(){function t(){this.reset()}var e=t.prototype;return e.reset=function(){this.segment=-1,this.segmentLength=0,this.abscissa=0,this.isPathEnd=!1,this.isPartEnd=!1},e.isValid=function(){return-1!==this.segment},e.copyTo=function(t){t.segment=this.segment,t.segmentLength=this.segmentLength,t.abscissa=this.abscissa,t.isPathEnd=this.isPathEnd,t.isPartEnd=this.isPartEnd},t}(),a=function(t){function e(e=0,n=!1){var i;return(i=t.call(this,e,n)||this)._tolerance=s.PIXEL_TOLERANCE,i._currentPosition=new o,i}n._inheritsLoose(e,t);var r=e.prototype;return r.updateTolerance=function(t){this._tolerance=s.PIXEL_TOLERANCE*t},r.init=function(t,e,n=!0){return n?(this._patternLength=e.length(),this._partExtPtGap=e.extPtGap,this._partCtrlPtGap=e.ctrlPtGap):(this._patternLength=0,this._partExtPtGap=0,this._partCtrlPtGap=0),this._currentPosition.reset(),this._partSegCount=0,this._path=t,this._seg=-1,this.setPosAtNextPart()},r.curPositionIsValid=function(){return this._currentPosition.isValid()},r.nextPosition=function(t,e=0){const n=new o;return!!this._nextPosition(t,n,null,e)&&(n.copyTo(this._currentPosition),!0)},r.curPointAndAngle=function(t){t.pt=this._getPoint(this._currentPosition);const[e,n]=this._getAngle(this._currentPosition);t.ca=e,t.sa=n},r.nextPointAndAngle=function(t,e,n=0){const i=new o;if(!this._nextPosition(t,i,null,n))return!1;i.copyTo(this._currentPosition),e.pt=this._getPoint(i);const[s,r]=this._getAngle(i);return e.ca=s,e.sa=r,!0},r.nextCurve=function(t){if(0===t)return null;const e=[],n=new o;return this._nextPosition(t,n,e,1)?(n.copyTo(this._currentPosition),e):null},r.isPathEnd=function(){return this._currentPosition.isPathEnd},r.getPathEnd=function(){if(-1===this._currentPosition.segment)throw new Error("missing segment");return this._path[this._currentPosition.segment+1]},r._nextPosition=function(t,e,n,i){if(this._currentPosition.isPathEnd)return!1;let s=this._currentPosition.abscissa;for(this._currentPosition.segmentLength>0&&(s/=this._currentPosition.segmentLength),this._currentPosition.copyTo(e);e.abscissa+t*this._partLengthRatio>e.segmentLength+this._tolerance;){if(n){if(0===n.length)if(0===s){const t=this._path[e.segment];n.push([t[0],t[1]])}else n.push(this.getSegCoord2D(this._path,e.segment,s));const t=this._path[e.segment+1];n.push([t[0],t[1]])}if(s=0,t-=(e.segmentLength-e.abscissa)/this._partLengthRatio,this._partSegCount)e.segment=this.nextSegment(),e.segmentLength=this.calculateSegLength(this._path,e.segment),e.abscissa=0,this._partSegCount--;else{if(!this.setPosAtNextPart())return 0!==i&&(e.segmentLength=this.calculateSegLength(this._path,e.segment),e.isPartEnd=!0,1===i?(e.abscissa=e.segmentLength,e.isPathEnd=!0):e.abscissa=e.segmentLength+t,!0);this._currentPosition.copyTo(e)}}if(e.abscissa+=t*this._partLengthRatio,n){if(0===n.length)if(0===s){const t=this._path[e.segment];n.push([t[0],t[1]])}else n.push(this.getSegCoord2D(this._path,e.segment,s));const t=e.abscissa/e.segmentLength;if(1===t){const t=this._path[e.segment+1];n.push([t[0],t[1]])}else n.push(this.getSegCoord2D(this._path,e.segment,t))}return this._partSegCount||Math.abs(e.abscissa-e.segmentLength)<this._tolerance&&(e.isPathEnd=this._partIsLast,e.isPartEnd=!0),!0},r._getPoint=function(t){if(-1===t.segment)throw new Error("missing segment");const e=t.segmentLength<=0?0:t.abscissa/t.segmentLength;return this.getSegCoord2D(this._path,t.segment,e)},r._getAngle=function(t){if(-1===t.segment)throw new Error("missing segment");const e=t.segmentLength<=0?0:t.abscissa/t.segmentLength;return this.getSegAngleCS(this._path,t.segment,e)},r.setPosAtNextPart=function(){for(;this._partSegCount;)this.hasNextSegment()&&this.nextSegment(),this._partSegCount--;if(!this.hasNextSegment())return!1;for(this._partLength=0,this._partIsLast=!0,this._partSegCount=0;this.hasNextSegment();)if(this._partLength+=this.calculateSegLength(this._path,this.nextSegment()),this._partSegCount++,1===i.getId(this._path[this.getEndPointIndex()])){this._partIsLast=!this.hasNextSegment();break}let t=this._partSegCount;for(;t;)this.previousSegment(),--t;this._currentPosition.segment=this.nextSegment(),this._currentPosition.segmentLength=this.calculateSegLength(this._path,this._currentPosition.segment),this._currentPosition.abscissa=0,this._currentPosition.isPathEnd=this._currentPosition.isPartEnd=!1,--this._partSegCount;const e=this.getStartPointIndex();this._ctrlPtBegin=1===i.getId(this._path[e]);let n=e+this._partSegCount+1;if(n>=this._path.length&&(n=0),this._ctrlPtEnd=1===i.getId(this._path[n]),this._patternLength>0){const t=this._ctrlPtBegin?this._partCtrlPtGap:this._partExtPtGap,e=this._ctrlPtEnd?this._partCtrlPtGap:this._partExtPtGap;let n=Math.round((this._partLength-(t+e))/this._patternLength);n<=0&&(n=t+e>0?0:1),this._partLengthRatio=this._partLength/(t+e+n*this._patternLength),this._partLengthRatio<.01&&(this._partLengthRatio=1)}else this._partLengthRatio=1;return!0},r.hasNextSegment=function(){return this._seg<this._path.length-2},r.previousSegment=function(){return--this._seg},r.nextSegment=function(){return++this._seg},r.getStartPointIndex=function(){return this._seg},r.getEndPointIndex=function(){return this._seg+1},e}(s.CurveHelper);e.DashPattern=r,e.GeometryWalker=a,Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,i))||(t.exports=s)},29282:(t,e,n)=>{var i,s;i=[n(58797)],void 0===(s=function(t){"use strict";return function(){function e(t=0,e=0,n=0,i=0){this.x=t,this.y=e,this.width=n,this.height=i}return e.prototype.union=function(t){this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.width=Math.max(this.width,t.width),this.height=Math.max(this.height,t.height)},t._createClass(e,[{key:"isEmpty",get:function(){return this.width<=0||this.height<=0}}]),e}()}.apply(e,i))||(t.exports=s)},76937:(t,e,n)=>{var i,s;i=[e,n(92231),n(57167),n(5258)],void 0===(s=function(t,n,i,s){"use strict";let r=function(){function t(){}return t.local=function(){return null===t.instance&&(t.instance=new t),t.instance},t.prototype.execute=function(t,e,n){return new o(t,e,n)},t}();r.instance=null;let o=function(){function t(t,e,n){this._inputGeometries=t,this._angleTolerance=void 0!==e.angleTolerance?e.angleTolerance:120,this._maxCosAngle=Math.cos((1-Math.abs(this._angleTolerance)/180)*Math.PI)}var e=t.prototype;return e.next=function(){let t=this._inputGeometries.next();for(;t;){if(i.isPolygon(t)){this._isClosed=!0;const e=n.clone(t);return this._processMultipath(e.rings),e}if(i.isPolyline(t)){this._isClosed=!1;const e=n.clone(t);return this._processMultipath(e.paths),e}if(i.isExtent(t)){if(this._maxCosAngle)return t;this._isClosed=!0;const e=[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]];return this._processPath(e),{rings:[e]}}t=this._inputGeometries.next()}return null},e._processMultipath=function(t){if(t)for(const e of t)this._processPath(e)},e._processPath=function(t){if(t){let e,n,i,r,o,a,h=t.length,l=t[0];this._isClosed&&++h;for(let c=1;c<h;++c){let u;u=this._isClosed&&c===h-1?t[0]:t[c];const f=u[0]-l[0],p=u[1]-l[1],_=Math.sqrt(f*f+p*p);c>1&&_>0&&i>0&&(e*f+n*p)/_/i<=this._maxCosAngle&&s.setId(l,1),1===c&&(r=f,o=p,a=_),_>0&&(l=u,e=f,n=p,i=_)}this._isClosed&&i>0&&a>0&&(e*r+n*o)/a/i<=this._maxCosAngle&&s.setId(t[0],1)}},t}();e.EffectAddControlPoints=r,Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,i))||(t.exports=s)},2779:(t,e,n)=>{var i,s;i=[e,n(58797),n(5258),n(31902)],void 0===(s=function(t,n,i,s){"use strict";const r=1.7320508075688772;let o=function(){function t(){}return t.local=function(){return null===t.instance&&(t.instance=new t),t.instance},t.prototype.execute=function(t,e,n){return new a(t,e,n)},t}();o.instance=null;let a=function(t){function e(e,n,i){var r;return(r=t.call(this,e,!1,!0)||this)._curveHelper=new s.CurveHelper,r._width=(void 0!==n.width?n.width:5)*i,r._arrowType=void 0!==n.geometricEffectArrowType?n.geometricEffectArrowType:"OpenEnded",r._offsetFlattenError=s.PIXEL_TOLERANCE*i,r}n._inheritsLoose(e,t);var o=e.prototype;return o.processPath=function(t){switch(this._arrowType){case"OpenEnded":default:return this._constructSimpleArrow(t,!0);case"Block":return this._constructSimpleArrow(t,!1);case"Crossed":return this._constructCrossedArrow(t)}},o._constructSimpleArrow=function(t,e){const n=this._curveHelper.calculatePathLength(t);let i=this._width;n<2*i&&(i=n/2);const r=this._curveHelper.getSubCurve(t,0,n-i);if(!r)return null;const o=i/2;if(this._curveHelper.isEmpty(r,!1))return null;const a=this._constructOffset(r,-o);if(!a)return null;const h=this._constructOffset(r,o);if(!h)return null;const l=this._constructArrowBasePoint(a,-o/2);if(!l)return null;const c=this._constructArrowBasePoint(h,o/2);if(!c)return null;const u=t[t.length-1];e||(this._makeControlPoint(h,!0),this._makeControlPoint(a,!0));const f=new s.PathHelper;return f.addPath(h,!0),f.lineTo(c),this._makeControlPoint(f.path()),f.lineTo(u),this._makeControlPoint(f.path()),f.lineTo(l),this._makeControlPoint(f.path()),f.addPath(a,!1),e?{paths:[f.path()]}:(f.close(),{rings:[f.path()]})},o._constructCrossedArrow=function(t){const e=this._curveHelper.calculatePathLength(t);let n=this._width;e<n*(1+r+1)&&(n=e/(1+r+1));const i=this._curveHelper.getSubCurve(t,0,e-n*(1+r));if(!i)return null;const o=n/2;if(this._curveHelper.isEmpty(i,!1))return null;const a=this._constructOffset(i,o);if(!a)return null;const h=this._constructOffset(i,-o);if(!h)return null;const l=this._curveHelper.getSubCurve(t,0,e-n);if(!l)return null;if(this._curveHelper.isEmpty(l,!1))return null;const c=this._constructOffset(l,o);if(!c)return null;const u=this._constructOffset(l,-o);if(!u)return null;const f=c[c.length-1],p=this._constructArrowBasePoint(c,o/2);if(!p)return null;const _=u[u.length-1],m=this._constructArrowBasePoint(u,-o/2);if(!m)return null;const g=t[t.length-1];this._makeControlPoint(a,!1),this._makeControlPoint(h,!1);const d=new s.PathHelper;return d.addPath(a,!0),this._makeControlPoint(d.path()),d.lineTo(_),d.lineTo(m),this._makeControlPoint(d.path()),d.lineTo(g),this._makeControlPoint(d.path()),d.lineTo(p),this._makeControlPoint(d.path()),d.lineTo(f),this._makeControlPoint(d.path()),d.addPath(h,!1),{paths:[d.path()]}},o._constructOffset=function(t,e){return this._curveHelper.offset(t,e,"Rounded",4,this._offsetFlattenError)},o._constructArrowBasePoint=function(t,e){if(!t||t.length<2)return null;const n=t[t.length-2],i=t[t.length-1],s=[i[0]-n[0],i[1]-n[1]];return this._curveHelper.normalize(s),[i[0]+s[1]*e,i[1]-s[0]*e]},o._makeControlPoint=function(t,e=!1){e?i.setId(t[0],1):i.setId(t[t.length-1],1)},e}(i.PathGeometryCursor);e.EffectArrow=o,Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,i))||(t.exports=s)},19226:(t,e,n)=>{var i,s;i=[e,n(57167),n(31902)],void 0===(s=function(t,n,i){"use strict";let s=function(){function t(){}return t.local=function(){return null===t.instance&&(t.instance=new t),t.instance},t.prototype.execute=function(t,e,n){return new r(t,e,n)},t}();s.instance=null;let r=function(){function t(t,e,n){this._inputGeometries=t,this._curveHelper=new i.CurveHelper,this._size=(void 0!==e.size?e.size:1)*n,this._offsetFlattenError=i.PIXEL_TOLERANCE*n}return t.prototype.next=function(){let t=this._inputGeometries.next();for(;t;){if(n.isExtent(t))if(this._size>0){const e=[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]],n=this._curveHelper.offset(e,this._size,"Rounded",4,this._offsetFlattenError);if(n)return{rings:[n]}}else{if(!(this._size<0))return t;if(Math.min(t.xmax-t.xmin,t.ymax-t.ymin)+2*this._size>0)return{xmin:t.xmin-this._size,xmax:t.xmax+this._size,ymin:t.ymin-this._size,ymax:t.ymax+this._size}}if(n.isPolygon(t)){if(0===this._size)return t;const e=[];for(const n of t.rings){const t=this._curveHelper.offset(n,this._size,"Rounded",4,this._offsetFlattenError);t&&e.push(t)}if(e.length)return{rings:e}}if(n.isPolyline(t)&&this._size>0){const e=[];for(const n of t.paths)if(n&&n.length>1){const t=this._curveHelper.offset(n,this._size,"Rounded",4,this._offsetFlattenError),i=this._curveHelper.offset(n,-this._size,"Rounded",4,this._offsetFlattenError);if(t&&i){for(let e=i.length-1;e>=0;e--)t.push(i[e]);t.push([t[0][0],t[0][1]]),e.push(t)}}if(e.length)return{rings:e}}n.isPoint(t)&&this._size,t=this._inputGeometries.next()}return null},t}();e.EffectBuffer=s,Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,i))||(t.exports=s)},79369:(t,e,n)=>{var i,s;i=[e,n(58797),n(5258),n(31902)],void 0===(s=function(t,n,i,s){"use strict";let r=function(){function t(){}return t.local=function(){return null===t.instance&&(t.instance=new t),t.instance},t.prototype.execute=function(t,e,n){return new o(t,e,n)},t}();r.instance=null;let o=function(t){function e(e,n,i){var r;return(r=t.call(this,e,!0,!0)||this)._curveHelper=new s.CurveHelper,r._beginCut=(void 0!==n.beginCut?n.beginCut:1)*i,r._endCut=(void 0!==n.endCut?n.endCut:1)*i,r._middleCut=(void 0!==n.middleCut?n.middleCut:0)*i,r._invert=void 0!==n.invert&&n.invert,r._beginCut<0&&(r._beginCut=0),r._endCut<0&&(r._endCut=0),r._middleCut<0&&(r._middleCut=0),r}return n._inheritsLoose(e,t),e.prototype.processPath=function(t){const e=this._beginCut,n=this._endCut,i=this._middleCut,s=this._curveHelper.calculatePathLength(t),r=[];if(this._invert)if(0===e&&0===n&&0===i);else if(e+n+i>=s)r.push(t);else{let o=this._curveHelper.getSubCurve(t,0,e);o&&r.push(o),o=this._curveHelper.getSubCurve(t,.5*(s-i),.5*(s+i)),o&&r.push(o),o=this._curveHelper.getSubCurve(t,s-n,n),o&&r.push(o)}else if(0===e&&0===n&&0===i)r.push(t);else if(e+n+i>=s);else if(0===i){const i=this._curveHelper.getSubCurve(t,e,s-n);i&&r.push(i)}else{let o=this._curveHelper.getSubCurve(t,e,.5*(s-i));o&&r.push(o),o=this._curveHelper.getSubCurve(t,.5*(s+i),s-n),o&&r.push(o)}return 0===r.length?null:{paths:r}},e}(i.PathGeometryCursor);e.EffectCut=r,Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,i))||(t.exports=s)},83177:(t,e,n)=>{var i,s;i=[e,n(58797),n(5258),n(31902),n(12037)],void 0===(s=function(t,n,i,s,r){"use strict";let o=function(){function t(){}return t.local=function(){return null===t.instance&&(t.instance=new t),t.instance},t.prototype.execute=function(t,e,n){return new a(t,e,n)},t}();o.instance=null;let a=function(t){function e(e,n,i){var s;return(s=t.call(this,e,!0,!0)||this)._walker=new r.GeometryWalker,s._walker.updateTolerance(i),s._endings=n.lineDashEnding,s._customDashPos=void 0!==n.offsetAlongLine?n.offsetAlongLine*i:0,s._offsetAtEnd=void 0!==n.customEndingOffset?n.customEndingOffset*i:0,s._pattern=new r.DashPattern,s._pattern.init(n.dashTemplate,!0),s._pattern.scale(i),s}return n._inheritsLoose(e,t),e.prototype.processPath=function(t){if(0===this._pattern.length())return this.iteratePath=!1,{paths:[t]};if(!this.iteratePath){let e=!0;switch(this._endings){case"HalfPattern":case"HalfGap":default:this._pattern.extPtGap=0;break;case"FullPattern":this.isClosed||(this._pattern.extPtGap=.5*this._pattern.firstValue());break;case"FullGap":this.isClosed||(this._pattern.extPtGap=.5*this._pattern.lastValue());break;case"NoConstraint":this.isClosed||(e=!1);break;case"Custom":this.isClosed||(this._pattern.extPtGap=.5*this._offsetAtEnd)}const n=this._walker.calculatePathLength(t);if(this._pattern.isEmpty()||n<.1*this._pattern.length())return{paths:[t]};if(!this._walker.init(t,this._pattern,e))return{paths:[t]}}let e;if(this.iteratePath)e=this._pattern.nextValue();else{let t;switch(this._endings){case"HalfPattern":default:t=.5*this._pattern.firstValue();break;case"HalfGap":t=.5*-this._pattern.lastValue();break;case"FullGap":t=-this._pattern.lastValue();break;case"FullPattern":t=0;break;case"NoConstraint":case"Custom":t=-this._customDashPos}let n=t/this._pattern.length();n-=Math.floor(n),t=n*this._pattern.length(),this._pattern.reset(),e=this._pattern.nextValue();let i=!1;for(;t>=e;)t-=e,e=this._pattern.nextValue(),i=!i;e-=t,i?(this._walker.nextPosition(e),e=this._pattern.nextValue()):this.isClosed&&(this._firstCurve=this._walker.nextCurve(e),e=this._pattern.nextValue(),this._walker.nextPosition(e),e=this._pattern.nextValue())}let n=this._walker.nextCurve(e);return n?this._walker.isPathEnd()?(this.iteratePath=!1,this._firstCurve&&(this._firstCurve.splice(0,1),s.PathHelper.mergePath(n,this._firstCurve),this._firstCurve=null)):(e=this._pattern.nextValue(),!this._walker.nextPosition(e)||this._walker.isPathEnd()?(this.iteratePath=!1,this._firstCurve&&(n=this._firstCurve,this._firstCurve=null)):this.iteratePath=!0):(this.iteratePath=!1,n=this._firstCurve,this._firstCurve=null),{paths:[n]}},e}(i.PathGeometryCursor);e.EffectDashes=o,Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,i))||(t.exports=s)},56270:(t,e,n)=>{var i,s;i=[e,n(57167),n(31902)],void 0===(s=function(t,n,i){"use strict";let s=function(){function t(){}return t.local=function(){return null===t.instance&&(t.instance=new t),t.instance},t.prototype.execute=function(t,e,n){return new r(t,e,n)},t}();s.instance=null;let r=function(){function t(t,e,n){switch(this._inputGeometries=t,this._curveHelper=new i.CurveHelper,this._width=(void 0!==e.width?e.width:2)*n,e.method){case"Mitered":default:this._method="Mitered";break;case"Bevelled":this._method="Bevelled";break;case"Rounded":case"TrueBuffer":this._method="Rounded";break;case"Square":this._method="Square"}this._option=e.option,this._offsetFlattenError=i.PIXEL_TOLERANCE*n,this._option}return t.prototype.next=function(){let t=this._inputGeometries.next();for(;t;){if(n.isExtent(t)&&this._width>0){if(Math.min(t.xmax-t.xmin,t.ymax-t.ymin)-2*this._width<0)return t;const e=[];return e.push([[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]),e.push([[t.xmin+this._width,t.ymin+this._width],[t.xmax-this._width,t.ymin+this._width],[t.xmax-this._width,t.ymax-this._width],[t.xmin+this._width,t.ymax-this._width],[t.xmin+this._width,t.ymin+this._width]]),{rings:e}}if(n.isPolygon(t)&&this._width>0){const e=[];for(const n of t.rings){const t=this._curveHelper.calculatePathLength(n),i=this._curveHelper.offset(n,this._width,this._method,4,this._offsetFlattenError);i&&(t<0&&i.reverse(),e.push(i))}if(e.length)return{rings:e}}t=this._inputGeometries.next()}return null},t}();e.EffectDonut=s,Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,i))||(t.exports=s)},33381:(t,e,n)=>{var i,s;i=[e,n(58797),n(5258),n(31902)],void 0===(s=function(t,n,i,s){"use strict";let r=function(){function t(){}return t.local=function(){return null===t.instance&&(t.instance=new t),t.instance},t.prototype.execute=function(t,e,n){return new o(t,e,n)},t}();r.instance=null;let o=function(t){function e(e,n,i){var r;return(r=t.call(this,e,!1,!0)||this)._curveHelper=new s.CurveHelper,r._length=(void 0!==n.length?n.length:20)*i,r._angle=void 0!==n.angle?n.angle:225,r._position=void 0!==n.position?n.position:50,r._length<0&&(r._length=-r._length),r._position<20&&(r._position=20),r._position>80&&(r._position=80),r._mirror=!1,r}return n._inheritsLoose(e,t),e.prototype.processPath=function(t){if(this._curveHelper.isEmpty(t,!1))return null;const e=t[0],n=t[t.length-1],i=[n[0]-e[0],n[1]-e[1]];this._curveHelper.normalize(i);const s=[e[0]+(n[0]-e[0])*this._position/100,e[1]+(n[1]-e[1])*this._position/100],r=Math.cos((90-this._angle)/180*Math.PI);let o=Math.sin((90-this._angle)/180*Math.PI);return this._mirror&&(o=-o),this._mirror=!this._mirror,{paths:[[e,[s[0]-this._length/2*r,s[1]-this._length/2*o],[s[0]+this._length/2*r,s[1]+this._length/2*o],n]]}},e}(i.PathGeometryCursor);e.EffectJog=r,Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,i))||(t.exports=s)},95134:(t,e,n)=>{var i,s;i=[e,n(92231),n(57167)],void 0===(s=function(t,n,i){"use strict";let s=function(){function t(){}return t.local=function(){return null===t.instance&&(t.instance=new t),t.instance},t.prototype.execute=function(t,e,n){return new r(t,e,n)},t}();s.instance=null;let r=function(){function t(t,e,n){this._inputGeometries=t,this._offsetX=void 0!==e.offsetX?e.offsetX*n:0,this._offsetY=void 0!==e.offsetY?-e.offsetY*n:0}var e=t.prototype;return e.next=function(){let t=this._inputGeometries.next();for(;t;){if(i.isExtent(t))return{xmin:t.xmin+this._offsetX,xmax:t.xmax+this._offsetX,ymin:t.ymin+this._offsetY,ymax:t.ymax+this._offsetY};if(i.isPolygon(t)){const e=n.clone(t);return this._moveMultipath(e.rings,this._offsetX,this._offsetY),e}if(i.isPolyline(t)){const e=n.clone(t);return this._moveMultipath(e.paths,this._offsetX,this._offsetY),e}if(i.isMultipoint(t)){const e=n.clone(t);return this._movePath(e.points,this._offsetX,this._offsetY),e}if(i.isPoint(t))return{x:t.x+this._offsetX,y:t.y+this._offsetY};t=this._inputGeometries.next()}return null},e._moveMultipath=function(t,e,n){if(t)for(const i of t)this._movePath(i,e,n)},e._movePath=function(t,e,n){if(t)for(const i of t)i[0]+=e,i[1]+=n},t}();e.EffectMove=s,Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,i))||(t.exports=s)},34514:(t,e,n)=>{var i,s;i=[e,n(57167),n(31902)],void 0===(s=function(t,n,i){"use strict";let s=function(){function t(){}return t.local=function(){return null===t.instance&&(t.instance=new t),t.instance},t.prototype.execute=function(t,e,n){return new r(t,e,n)},t}();s.instance=null;let r=function(){function t(t,e,n){this._inputGeometries=t,this._curveHelper=new i.CurveHelper,this._offset=(void 0!==e.offset?e.offset:1)*n,this._method=e.method,this._option=e.option,this._offsetFlattenError=i.PIXEL_TOLERANCE*n,this._option}return t.prototype.next=function(){let t=this._inputGeometries.next();for(;t;){if(0===this._offset)return t;if(n.isExtent(t)){if("Rounded"===this._method&&this._offset>0){const e=[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]],n=this._curveHelper.offset(e,this._offset,this._method,4,this._offsetFlattenError);return n?{rings:[n]}:null}if(Math.min(t.xmax-t.xmin,t.ymax-t.ymin)+2*this._offset>0)return{xmin:t.xmin-this._offset,xmax:t.xmax+this._offset,ymin:t.ymin-this._offset,ymax:t.ymax+this._offset}}if(n.isPolygon(t)){const e=[];for(const n of t.rings){const t=this._curveHelper.offset(n,this._offset,this._method,4,this._offsetFlattenError);t&&e.push(t)}if(e.length)return{rings:e}}if(n.isPolyline(t)){const e=[];for(const n of t.paths){const t=this._curveHelper.offset(n,this._offset,this._method,4,this._offsetFlattenError);t&&e.push(t)}if(e.length)return{paths:e}}t=this._inputGeometries.next()}return null},t}();e.EffectOffset=s,Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,i))||(t.exports=s)},34231:(t,e,n)=>{var i,s;i=[e,n(92231),n(57167),n(5258)],void 0===(s=function(t,n,i,s){"use strict";let r=function(){function t(){}return t.local=function(){return null===t.instance&&(t.instance=new t),t.instance},t.prototype.execute=function(t,e,n){return new o(t,e,n)},t}();r.instance=null;let o=function(){function t(t,e,n){this._inputGeometries=t,this._reverse=void 0===e.reverse||e.reverse}return t.prototype.next=function(){let t=this._inputGeometries.next();for(;t;){if(!this._reverse)return t;if(i.isPolyline(t)){const e=n.clone(t);return s.reverseMultipath(e.paths),e}t=this._inputGeometries.next()}return null},t}();e.EffectReverse=r,Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,i))||(t.exports=s)},64904:(t,e,n)=>{var i,s;i=[e,n(92231),n(63629),n(57167),n(18167)],void 0===(s=function(t,n,i,s,r){"use strict";let o=function(){function t(){}return t.local=function(){return null===t.instance&&(t.instance=new t),t.instance},t.prototype.execute=function(t,e,n){return new a(t,e,n)},t}();o.instance=null;let a=function(){function t(t,e,n){this._inputGeometries=t,this._rotateAngle=void 0!==e.angle?-e.angle*Math.PI/180:0}var e=t.prototype;return e.next=function(){let t=this._inputGeometries.next();for(;t;){if(0===this._rotateAngle)return t;const e=r.create();i.getBoundsXY(e,t);const o=(e[2]+e[0])/2,a=(e[3]+e[1])/2;if(s.isExtent(t)){const e={rings:[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]};return this._rotateMultipath(e.rings,o,a),e}if(s.isPolygon(t)){const e=n.clone(t);return this._rotateMultipath(e.rings,o,a),e}if(s.isPolyline(t)){const e=n.clone(t);return this._rotateMultipath(e.paths,o,a),e}if(s.isMultipoint(t)){const e=n.clone(t);return this._rotatePath(e.points,o,a),e}if(s.isPoint(t))return t;t=this._inputGeometries.next()}return null},e._rotateMultipath=function(t,e,n){if(t)for(const i of t)this._rotatePath(i,e,n)},e._rotatePath=function(t,e,n){if(t){const i=Math.cos(this._rotateAngle),s=Math.sin(this._rotateAngle);for(const r of t){const t=r[0]-e,o=r[1]-n;r[0]=e+t*i-o*s,r[1]=n+t*s+o*i}}},t}();e.EffectRotate=o,Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,i))||(t.exports=s)},96505:(t,e,n)=>{var i,s;i=[e,n(92231),n(63629),n(57167),n(18167)],void 0===(s=function(t,n,i,s,r){"use strict";let o=function(){function t(){}return t.local=function(){return null===t.instance&&(t.instance=new t),t.instance},t.prototype.execute=function(t,e,n){return new a(t,e,n)},t}();o.instance=null;let a=function(){function t(t,e,n){this._inputGeometries=t,this._xFactor=void 0!==e.xScaleFactor?e.xScaleFactor:1.15,this._yFactor=void 0!==e.yScaleFactor?e.yScaleFactor:1.15}var e=t.prototype;return e.next=function(){let t=this._inputGeometries.next();for(;t;){if(1===this._xFactor&&1===this._yFactor)return t;const e=r.create();i.getBoundsXY(e,t);const o=(e[2]+e[0])/2,a=(e[3]+e[1])/2;if(s.isExtent(t)){const e={rings:[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]};return this._scaleMultipath(e.rings,o,a),e}if(s.isPolygon(t)){const e=n.clone(t);return this._scaleMultipath(e.rings,o,a),e}if(s.isPolyline(t)){const e=n.clone(t);return this._scaleMultipath(e.paths,o,a),e}if(s.isMultipoint(t)){const e=n.clone(t);return this._scalePath(e.points,o,a),e}if(s.isPoint(t))return t;t=this._inputGeometries.next()}return null},e._scaleMultipath=function(t,e,n){if(t)for(const i of t)this._scalePath(i,e,n)},e._scalePath=function(t,e,n){if(t)for(const i of t){const t=(i[0]-e)*this._xFactor,s=(i[1]-n)*this._yFactor;i[0]=e+t,i[1]=n+s}},t}();e.EffectScale=o,Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,i))||(t.exports=s)},59992:(t,e,n)=>{var i,s;i=[e,n(57167),n(31902),n(12037)],void 0===(s=function(t,n,i,s){"use strict";let r=function(){function t(){}return t.local=function(){return null===t.instance&&(t.instance=new t),t.instance},t.prototype.execute=function(t,e,n){return new o(t,e,n)},t}();r.instance=null;let o=function(){function t(t,e,n){this._inputGeometries=t,this._height=(void 0!==e.amplitude?e.amplitude:2)*n,this._period=(void 0!==e.period?e.period:3)*n,this._style=e.waveform,this._height<=0&&(this._height=Math.abs(this._height)),this._period<=0&&(this._period=Math.abs(this._period)),this._pattern=new s.DashPattern,this._pattern.addValue(this._period),this._pattern.addValue(this._period),this._walker=new s.GeometryWalker,this._walker.updateTolerance(n)}var e=t.prototype;return e.next=function(){let t=this._inputGeometries.next();for(;t;){if(0===this._height||0===this._period)return t;if(n.isPolyline(t)){const e=this._processGeom(t.paths);if(e.length)return{paths:e}}if(n.isPolygon(t)){const e=this._processGeom(t.rings);if(e.length)return{rings:e}}t=this._inputGeometries.next()}return null},e._processGeom=function(t){const e=[];for(const n of t)if(this._walker.init(n,this._pattern))switch(this._style){case"Sinus":default:e.push(this._constructCurve(n,!1));break;case"Square":e.push(this._constructSquare(n));break;case"Triangle":e.push(this._constructTriangle(n));break;case"Random":e.push(this._constructCurve(n,!0))}else e.push(n);return e},e._constructCurve=function(t,e){const n=new i.PathHelper,s=this._walker.calculatePathLength(t);let r=Math.round(s/this._period);0===r&&(r=1);const o=16*r+1,a=s/r,h=this._period/16,l=1/o,c=2*Math.PI*s/a,u=2*Math.PI*Math.random(),f=2*Math.PI*Math.random(),p=2*Math.PI*Math.random(),_=.75-Math.random()/2,m=.75-Math.random()/2,g={};this._walker.curPointAndAngle(g),n.startPath(g.pt);let d=0;for(;;){if(!this._walker.nextPointAndAngle(h,g)){n.lineTo(t[t.length-1]);break}{const t=d;let i;if(d+=l,e){const e=this._height/2*(1+.3*Math.sin(_*c*t+u));i=e*Math.sin(c*t+f),i+=e*Math.sin(m*c*t+p),i/=2}else i=.5*this._height*Math.sin(.5*c*t);n.lineTo([g.pt[0]-i*g.sa,g.pt[1]+i*g.ca])}}return n.path()},e._constructSquare=function(t){const e=new i.PathHelper,n=this._walker.calculatePathLength(t);let s=Math.round(n/this._period);0===s&&(s=1);let r=!0;for(;;){let t=!1;if(this._walker.curPositionIsValid()){const n={};this._walker.curPointAndAngle(n);const i={};if(this._walker.nextPointAndAngle(this._period,i)){const s={};this._walker.nextPointAndAngle(this._period,s)&&(r?(e.startPath(n.pt),r=!1):e.lineTo(n.pt),e.lineTo([n.pt[0]-this._height/2*n.sa,n.pt[1]+this._height/2*n.ca]),e.lineTo([i.pt[0]-this._height/2*i.sa,i.pt[1]+this._height/2*i.ca]),e.lineTo([i.pt[0]+this._height/2*i.sa,i.pt[1]-this._height/2*i.ca]),e.lineTo([s.pt[0]+this._height/2*s.sa,s.pt[1]-this._height/2*s.ca]),t=!0)}}if(!t){e.lineTo(this._walker.getPathEnd());break}}return e.path()},e._constructTriangle=function(t){const e=new i.PathHelper,n=this._walker.calculatePathLength(t);let s=Math.round(n/this._period);0===s&&(s=1);let r=!0;for(;;){let t=!1;if(this._walker.curPositionIsValid()){const n={};this._walker.curPointAndAngle(n);const i={};if(this._walker.nextPointAndAngle(this._period/2,i)){const s={};this._walker.nextPointAndAngle(this._period,s)&&(this._walker.nextPosition(this._period/2)&&(r?(e.startPath(n.pt),r=!1):e.lineTo(n.pt),e.lineTo([i.pt[0]-this._height/2*i.sa,i.pt[1]+this._height/2*i.ca]),e.lineTo([s.pt[0]+this._height/2*s.sa,s.pt[1]-this._height/2*s.ca])),t=!0)}}if(!t){e.lineTo(this._walker.getPathEnd());break}}return e.path()},t}();e.EffectWave=r,Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,i))||(t.exports=s)},69365:(t,e)=>{var n;void 0===(n=function(t){"use strict";var n;(n=t.PlacementEndings||(e.PlacementEndings={})).NoConstraint="NoConstraint",n.WithMarkers="WithMarkers",n.WithFullGap="WithFullGap",n.WithHalfGap="WithHalfGap",n.Custom="Custom",Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,[e]))||(t.exports=n)},58597:(t,e)=>{var n;void 0===(n=function(t){"use strict";const n=[1,256,65536,16777216],i=[1/256,1/65536,1/16777216,1/4294967296],s=r(new Uint8ClampedArray([255,255,255,255]));function r(t,e=0){let n=0;for(let s=0;s<4;s++)n+=t[e+s]*i[s];return n}e.packFloatRGBA=function(t,e,i=0){const r=function(t,e,n){return t<0?0:t>n?n:t}(t,0,s);for(let t=0;t<4;t++)e[i+t]=Math.floor(256*((o=r*n[t])-Math.floor(o)));var o},e.unpackFloatRGBA=r,Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,[e]))||(t.exports=n)},63898:(t,e,n)=>{var i,s;i=[e,n(58797),n(5258),n(12037),n(69365)],void 0===(s=function(t,n,i,s,r){"use strict";let o=function(){function t(){}return t.local=function(){return null===t.instance&&(t.instance=new t),t.instance},t.prototype.execute=function(t,e,n){return new a(t,e,n)},t}();o.instance=null;let a=function(t){function e(e,n,i){var r;return(r=t.call(this,e,!0,!0)||this)._grometryWalker=new s.GeometryWalker,r._grometryWalker.updateTolerance(i),r._angleToLine=void 0===n.angleToLine||n.angleToLine,r._offset=void 0!==n.offset?n.offset*i:0,r._originalEndings=n.endings,r._offsetAtEnd=void 0!==n.customEndingOffset?n.customEndingOffset*i:0,r._position=void 0!==n.offsetAlongLine?n.offsetAlongLine*i:0,r._pattern=new s.DashPattern,r._pattern.init(n.placementTemplate,!1),r._pattern.scale(i),r._endings=r._originalEndings,r}n._inheritsLoose(e,t);var i=e.prototype;return i.processPath=function(t){if(this._pattern.isEmpty())return null;let e;if(this.iteratePath)e=this._pattern.nextValue();else{this._originalEndings===r.PlacementEndings.WithFullGap&&this.isClosed?this._endings=r.PlacementEndings.WithMarkers:this._endings=this._originalEndings,this._pattern.extPtGap=0;let n,i=!0;switch(this._endings){case r.PlacementEndings.NoConstraint:n=-this._position,n=this._adjustPosition(n),i=!1;break;case r.PlacementEndings.WithHalfGap:default:n=-this._pattern.lastValue()/2;break;case r.PlacementEndings.WithFullGap:n=-this._pattern.lastValue(),this._pattern.extPtGap=this._pattern.lastValue();break;case r.PlacementEndings.WithMarkers:n=0;break;case r.PlacementEndings.Custom:n=-this._position,n=this._adjustPosition(n),this._pattern.extPtGap=.5*this._offsetAtEnd}if(!this._grometryWalker.init(t,this._pattern,i))return null;this._pattern.reset();let s=0;for(;n>s;)n-=s,s=this._pattern.nextValue();s-=n,e=s,this.iteratePath=!0}const n={};return this._grometryWalker.nextPointAndAngle(e,n)?this._endings===r.PlacementEndings.WithFullGap&&this._grometryWalker.isPathEnd()?(this.iteratePath=!1,null):this._endings===r.PlacementEndings.WithMarkers&&this._grometryWalker.isPathEnd()&&(this.iteratePath=!1,this.isClosed)?null:(this.internalPlacement.setTranslate(n.pt[0]+this._offset*n.sa,n.pt[1]-this._offset*n.ca),this._angleToLine&&this.internalPlacement.setRotateCS(n.ca,n.sa),this.internalPlacement):(this.iteratePath=!1,null)},i._adjustPosition=function(t){let e=t/this._pattern.length();return e-=Math.floor(e),e*this._pattern.length()},e}(i.PathTransformationCursor);e.PlacementAlongLineSameSize=o,Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,i))||(t.exports=s)},32021:(t,e,n)=>{var i,s;i=[e,n(58797),n(5258),n(31902)],void 0===(s=function(t,n,i,s){"use strict";let r=function(){function t(){}return t.local=function(){return null===t.instance&&(t.instance=new t),t.instance},t.prototype.execute=function(t,e,n){return new o(t,e,n)},t}();r.instance=null;let o=function(t){function e(e,n,i){var r;return(r=t.call(this,e,!1,!0)||this)._curveHelper=new s.CurveHelper,r._angleToLine=void 0===n.angleToLine||n.angleToLine,r._offset=void 0!==n.offset?n.offset*i:0,r._type=n.extremityPlacement,r._position=void 0!==n.offsetAlongLine?n.offsetAlongLine*i:0,r._beginProcessed=!1,r}n._inheritsLoose(e,t);var r=e.prototype;return r.processPath=function(t){let e;switch(this._type){case"Both":default:this._beginProcessed?(e=this._atExtremities(t,this._position,!1),this._beginProcessed=!1,this.iteratePath=!1):(e=this._atExtremities(t,this._position,!0),this._beginProcessed=!0,this.iteratePath=!0);break;case"JustBegin":e=this._atExtremities(t,this._position,!0);break;case"JustEnd":e=this._atExtremities(t,this._position,!1);break;case"None":}return e},r._atExtremities=function(t,e,n){const s=t.length;if(s<2)return null;const r=n?1:s-2,o=n?s:-1,a=n?1:-1;let h,l=0,c=n?t[0]:t[s-1];for(let n=r;n!==o;n+=a){h=c,c=t[n];const s=this._curveHelper.calculateLength(h,c);if(l+s>e){const t=(e-l)/s,[n,r]=this._curveHelper.getAngleCS(h,c,t),o=i.getCoord2D(h,c,t);return this.internalPlacement.setTranslate(o[0]-this._offset*r,o[1]+this._offset*n),this._angleToLine&&this.internalPlacement.setRotateCS(-n,-r),this.internalPlacement}l+=s}return null},e}(i.PathTransformationCursor);e.PlacementAtExtremities=r,Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,i))||(t.exports=s)},38754:(t,e,n)=>{var i,s;i=[e,n(58797),n(5258),n(12037)],void 0===(s=function(t,n,i,s){"use strict";let r=function(){function t(){}return t.local=function(){return null===t.instance&&(t.instance=new t),t.instance},t.prototype.execute=function(t,e,n){return new o(t,e,n)},t}();r.instance=null;let o=function(t){function e(e,n,i){var r;return(r=t.call(this,e,!0,!0)||this)._walker=new s.GeometryWalker,r._walker.updateTolerance(i),r._angleToLine=void 0===n.angleToLine||n.angleToLine,r._offset=void 0!==n.offset?n.offset*i:0,r._beginGap=void 0!==n.beginPosition?n.beginPosition*i:0,r._endGap=void 0!==n.endPosition?n.endPosition*i:0,r._flipFirst=void 0===n.flipFirst||n.flipFirst,r._pattern=new s.DashPattern,r._pattern.init(n.positionArray,!1,!1),r._subPathLen=0,r._posCount=r._pattern.size(),r._isFirst=!0,r._prevPos=0,r}return n._inheritsLoose(e,t),e.prototype.processPath=function(t){if(this._pattern.isEmpty())return null;let e;if(this.iteratePath){const t=this._pattern.nextValue()*this._subPathLen,n=this._beginGap+t;e=n-this._prevPos,this._prevPos=n}else{if(this._posCount=this._pattern.size(),this._isFirst=!0,this._prevPos=0,this._subPathLen=this._walker.calculatePathLength(t)-this._beginGap-this._endGap,this._subPathLen<0)return this.iteratePath=!1,null;if(!this._walker.init(t,this._pattern,!1))return null;this._pattern.reset();const n=this._pattern.nextValue()*this._subPathLen,i=this._beginGap+n;e=i-this._prevPos,this._prevPos=i,this.iteratePath=!0}const n={};if(!this._walker.nextPointAndAngle(e,n,1))return this.iteratePath=!1,null;this.internalPlacement.setTranslate(n.pt[0]+this._offset*n.sa,n.pt[1]-this._offset*n.ca);const i=this._isFirst&&this._flipFirst;let s,r;return this._angleToLine?(s=n.ca,r=n.sa):(s=1,r=0),i&&(s=-s,r=-r),this.internalPlacement.setRotateCS(s,r),this._isFirst=!1,this._posCount--,0===this._posCount&&(this.iteratePath=!1),this.internalPlacement},e}(i.PathTransformationCursor);e.PlacementAtRatioPositions=r,Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,i))||(t.exports=s)},26373:(t,e,n)=>{var i,s;i=[e,n(5892)],void 0===(s=function(t,n){"use strict";let i=function(){function t(){}return t.local=function(){return null===t.instance&&(t.instance=new t),t.instance},t.prototype.execute=function(t,e,n){return new s(t,e,n)},t}();i.instance=null;let s=function(){function t(t,e,i){if(this._xMin=0,this._xMax=0,this._yMin=0,this._yMax=0,this._currentX=0,this._currentY=0,this._stepX=(void 0!==e.stepX?Math.abs(e.stepX):16)*i,this._stepY=(void 0!==e.stepY?Math.abs(e.stepY):16)*i,0!==this._stepX&&0!==this._stepY&&t&&void 0!==t.rings&&t.rings){if(this._gridType=void 0!==e.gridType?e.gridType:"Fixed","Random"===this._gridType)this._randomness=void 0!==e.randomness?e.randomness/100:1,this._gridAngle=0,this._shiftOddRows=!1,this._cosAngle=1,this._sinAngle=0,this._offsetX=0,this._offsetY=0;else{if(this._randomness=0,this._gridAngle=void 0!==e.gridAngle?e.gridAngle:0,this._shiftOddRows=void 0!==e.shiftOddRows&&e.shiftOddRows,this._offsetX=void 0!==e.offsetX?e.offsetX*i:0,this._offsetY=void 0!==e.offsetY?e.offsetY*i:0,this._cosAngle=Math.cos(this._gridAngle/180*Math.PI),this._sinAngle=-Math.sin(this._gridAngle/180*Math.PI),this._stepX)if(this._offsetX<0)for(;this._offsetX<-.5*this._stepX;)this._offsetX+=this._stepX;else for(;this._offsetX>=.5*this._stepX;)this._offsetX-=this._stepX;if(this._stepY)if(this._offsetY<0)for(;this._offsetY<-.5*this._stepY;)this._offsetY+=this._stepY;else for(;this._offsetY>=.5*this._stepY;)this._offsetY-=this._stepY}this._graphicOriginX=0,this._graphicOriginY=0,this._internalPlacement=new n.Placement,this._calculateMinMax(t),this._geometry=t}}var e=t.prototype;return e.next=function(){return this._geometry?this._nextInside():null},e._calculateMinMax=function(t){let e,n,i,s,r,o,a,h;this._xMin=0,this._xMax=0,this._yMin=0,this._yMax=0,r=o=Number.MAX_VALUE,a=h=-Number.MAX_VALUE;for(const l of t.rings){const t=l?l.length:0;for(let c=0;c<t;++c)e=l[c][0]-this._graphicOriginX-this._offsetX,n=l[c][1]-this._graphicOriginY-this._offsetY,i=this._cosAngle*e-this._sinAngle*n,s=this._sinAngle*e+this._cosAngle*n,r=Math.min(r,i),a=Math.max(a,i),o=Math.min(o,s),h=Math.max(h,s)}r+=this._graphicOriginX,a+=this._graphicOriginX,o+=this._graphicOriginY,h+=this._graphicOriginY,this._xMin=Math.round(r/this._stepX),this._xMax=Math.round(a/this._stepX),this._yMin=Math.round(o/this._stepY),this._yMax=Math.round(h/this._stepY),this._currentX=this._xMax+1,this._currentY=this._yMin-1},e._nextInside=function(){for(;;){if(this._currentX>this._xMax){if(this._currentY++,this._currentY>this._yMax)return null;this._currentX=this._xMin,this._shiftOddRows&&this._currentY%2&&this._currentX--}let t=this._currentX*this._stepX+this._offsetX;this._shiftOddRows&&this._currentY%2&&(t+=.5*this._stepX);const e=this._currentY*this._stepY+this._offsetY;let n,i;return this._currentX++,"Random"===this._gridType?(n=this._graphicOriginX+t+this._stepX*this._randomness*(.5-Math.random())*2/3,i=this._graphicOriginY+e+this._stepY*this._randomness*(.5-Math.random())*2/3):(n=this._graphicOriginX+this._cosAngle*t+this._sinAngle*e,i=this._graphicOriginY-this._sinAngle*t+this._cosAngle*e),this._internalPlacement.setTranslate(n,i),this._internalPlacement}},t}();e.PlacementInsidePolygon=i,Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,i))||(t.exports=s)},98557:(t,e,n)=>{var i,s;i=[e,n(58797),n(5258),n(31902)],void 0===(s=function(t,n,i,s){"use strict";let r=function(){function t(){}return t.local=function(){return null===t.instance&&(t.instance=new t),t.instance},t.prototype.execute=function(t,e,n){return new o(t,e,n)},t}();r.instance=null;let o=function(t){function e(e,n,i){var r;return(r=t.call(this,e,!0,!0)||this)._curveHelper=new s.CurveHelper,r._angleToLine=void 0===n.angleToLine||n.angleToLine,r._offset=void 0!==n.offset?n.offset*i:0,r._relativeTo=n.relativeTo,r._position=void 0!==n.startPointOffset?n.startPointOffset*i:0,r._epsilon=.001*i,r}n._inheritsLoose(e,t);var r=e.prototype;return r.processPath=function(t){const e=this._position;if("SegmentMidpoint"===this._relativeTo){for(this.iteratePath||(this._segmentCount=t.length,this._curSegment=1,this.iteratePath=!0);this._curSegment<this._segmentCount;){const e=this._curSegment;this._curSegment++;const n=t[e-1],s=t[e],r=this._curveHelper.calculateLength(n,s);if(r<this._epsilon)continue;const o=.5+this._position/r,[a,h]=this._curveHelper.getAngleCS(n,s,o),l=i.getCoord2D(n,s,o);return this.internalPlacement.setTranslate(l[0]-this._offset*h,l[1]+this._offset*a),this._angleToLine&&this.internalPlacement.setRotateCS(a,h),this.internalPlacement}return this.iteratePath=!1,null}"LineEnd"===this._relativeTo&&i.reversePath(t);const n=this.onLine(t,e);return"LineEnd"===this._relativeTo&&i.reversePath(t),n},r.onLine=function(t,e){let n,s=!1;switch(this._relativeTo){case"LineMiddle":default:n=this._curveHelper.calculatePathLength(t)/2+e;break;case"LineBeginning":n=e;break;case"LineEnd":n=e,s=!0}const r=t.length;let o,a=0,h=t[0];for(let e=1;e<r;++e){o=h,h=t[e];const r=this._curveHelper.calculateLength(o,h);if(a+r>n){const t=(n-a)/r,[e,l]=this._curveHelper.getAngleCS(o,h,t),c=i.getCoord2D(o,h,t),u=s?this._offset:-this._offset;return this.internalPlacement.setTranslate(c[0]-u*l,c[1]+u*e),this._angleToLine&&(s?this.internalPlacement.setRotateCS(-e,-l):this.internalPlacement.setRotateCS(e,l)),this.internalPlacement}a+=r}return null},e}(i.PathTransformationCursor);e.PlacementOnLine=r,Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,i))||(t.exports=s)},65815:(t,e,n)=>{var i,s;i=[e,n(58797),n(5258),n(31902)],void 0===(s=function(t,n,i,s){"use strict";let r=function(){function t(){}return t.local=function(){return null===t.instance&&(t.instance=new t),t.instance},t.prototype.execute=function(t,e,n){return new o(t,e,n)},t}();r.instance=null;let o=function(t){function e(e,n,i){var r;return(r=t.call(this,e,!0,!0)||this)._curveHelper=new s.CurveHelper,r._angleToLine=void 0===n.angleToLine||n.angleToLine,r._offset=void 0!==n.offset?n.offset*i:0,r._endPoints=void 0===n.placeOnEndPoints||n.placeOnEndPoints,r._controlPoints=void 0===n.placeOnControlPoints||n.placeOnControlPoints,r._regularVertices=void 0===n.placeOnRegularVertices||n.placeOnRegularVertices,r._tags=[],r._tagIterator=0,r}n._inheritsLoose(e,t);var r=e.prototype;return r.processPath=function(t){if(this.iteratePath||(this._preparePath(t),this.iteratePath=!0),this._tagIterator>=this._tags.length)return this._tags.length=0,this._tagIterator=0,this.iteratePath=!1,null;const e=this._tags[this._tagIterator];this._angleToLine&&this.internalPlacement.setRotate(e[2]);let n=e[0],i=e[1];if(0!==this._offset){const t=Math.cos(e[2]),s=Math.sin(e[2]);n-=this._offset*s,i+=this._offset*t}return this.internalPlacement.setTranslate(n,i),this._tagIterator++,this.internalPlacement},r._preparePath=function(t){this._tags.length=0,this._tagIterator=0;const e=i.isClosedPath(t),n=t.length-1;let s,r,o=0,h=0,l=0,c=0,u=0;for(;o<n;){o++,s=t[o-1],r=t[o];const f=i.getId(s),p=i.getId(r);(this._angleToLine||0!==this._offset)&&(c=this._curveHelper.getAngle(s,r,0)),1===o?e?(h=c,l=f):this._endPoints&&this._tags.push([s[0],s[1],c]):1===f?this._controlPoints&&this._tags.push([s[0],s[1],a(u,c)]):this._regularVertices&&this._tags.push([s[0],s[1],a(u,c)]),(this._angleToLine||0!==this._offset)&&(u=this._curveHelper.getAngle(s,r,1)),o===n&&(e?1===p||1===l?this._controlPoints&&this._tags.push([r[0],r[1],a(u,h)]):this._regularVertices&&this._tags.push([r[0],r[1],a(u,h)]):this._endPoints&&this._tags.push([r[0],r[1],u]))}this._tagIterator=0},e}(i.PathTransformationCursor);function a(t,e){const n=Math.PI;for(;Math.abs(e-t)>n+2e-15;)e-t>n?e-=2*n:e+=2*n;return(t+e)/2}e.PlacementOnVertices=r,Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,i))||(t.exports=s)},84404:(t,e,n)=>{var i,s;i=[e,n(63629),n(18167),n(5892)],void 0===(s=function(t,n,i,s){"use strict";let r=function(){function t(){}return t.local=function(){return null===t.instance&&(t.instance=new t),t.instance},t.prototype.execute=function(t,e,n){return new o(t,e,n)},t}();r.instance=null;let o=function(){function t(t,e,n){this._geometry=t,this._offsetX=void 0!==e.offsetX?e.offsetX*n:0,this._offsetY=void 0!==e.offsetY?e.offsetY*n:0,this._method=void 0!==e.method?e.method:"OnPolygon",this._internalPlacement=new s.Placement}var e=t.prototype;return e.next=function(){const t=this._geometry;return this._geometry=null,t&&void 0!==t.rings?this._polygonCenter(t):null},e._polygonCenter=function(t){let e=!1;switch(this._method){case"OnPolygon":default:case"CenterOfMass":case"BoundingBoxCenter":{const s=i.create();n.getBoundsXY(s,t),this._internalPlacement.setTranslate((s[2]+s[0])/2+this._offsetX,(s[3]+s[1])/2-this._offsetY),e=!0;break}}return e?this._internalPlacement:null},t}();e.PlacementPolygonCenter=r,Object.defineProperty(t,"__esModule",{value:!0})}.apply(e,i))||(t.exports=s)}}]);