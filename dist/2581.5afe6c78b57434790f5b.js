(self.webpackChunkh2oc=self.webpackChunkh2oc||[]).push([[2581],{2581:(e,n,a)=>{var t,r;t=[a,n,a(3718),a(49359),a(40810),a(30106),a(80353)],void 0===(r=function(e,t,r,i,l,c,u){"use strict";function o(e,n){return e?e.find((e=>e.id===n)):null}function s(e){return!e.type||"Feature Layer"===e.type}async function f(e){return(await l(e,{responseType:"json",query:{f:"json"}})).data}n.fromUrl=async function(e){const n=await async function(e){const n=c.parse(e);if(r.isNone(n))throw new i("arcgis-layers:url-mismatch","The url '${url}' is not a valid arcgis resource",{url:e});const{serverType:a,sublayer:t}=n;let l;const o={FeatureServer:"FeatureLayer",StreamServer:"StreamLayer",VectorTileServer:"VectorTileLayer"};switch(a){case"MapServer":l=null!=t?"FeatureLayer":async function(e){return(await f(e)).tileInfo}(e).then((e=>e?"TileLayer":"MapImageLayer"));break;case"ImageServer":l=f(e).then((e=>{const n=e.tileInfo&&e.tileInfo.format;return e.tileInfo?!n||"LERC"!==n.toUpperCase()||e.cacheType&&"elevation"!==e.cacheType.toLowerCase()?"ImageryTileLayer":"ElevationLayer":"ImageryLayer"}));break;case"SceneServer":l=f(n.url.path).then((e=>{const n={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};if(e&&Array.isArray(e.layers)&&e.layers.length>0){const a=e.layers[0].layerType;if(null!=n[a])return n[a]}return"SceneLayer"}));break;default:l=o[a]}const y="FeatureServer"===a,d={parsedUrl:n,Constructor:null,layerOrTableId:y?t:null,sublayerIds:null,tableIds:null},h=await l;if({FeatureLayer:!0,SceneLayer:!0}[h]&&null==t){const n=await async function(e,n){var a,t;let r,i=!1;if("FeatureServer"===n){const n=await async function(e){var n,a;let t=await f(e);t=t||{},t.layers=(null==(n=t.layers)?void 0:n.filter(s))||[];const r={serviceJSON:t};if(t.currentVersion<10.5)return r;const i=await f(e+"/layers");return r.layersJSON={layers:(null==i||null==(a=i.layers)?void 0:a.filter(s))||[],tables:(null==i?void 0:i.tables)||[]},r}(e);i=!!n.layersJSON,r=n.layersJSON||n.serviceJSON}else r=await f(e);const l=null==(a=r)?void 0:a.layers,c=null==(t=r)?void 0:t.tables;return{layerIds:(null==l?void 0:l.map((e=>e.id)).reverse())||[],tableIds:(null==c?void 0:c.map((e=>e.id)).reverse())||[],layerInfos:i?l:[],tableInfos:i?c:[]}}(e,a);if(y&&(d.sublayerInfos=n.layerInfos,d.tableInfos=n.tableInfos),1!==n.layerIds.length+n.tableIds.length)d.sublayerIds=n.layerIds,d.tableIds=n.tableIds;else if(y){var p,w;d.layerOrTableId=null!=(p=n.layerIds[0])?p:n.tableIds[0],d.sourceJSON=null!=(w=n.layerInfos[0])?w:n.tableInfos[0]}}return d.Constructor=await async function(e){return(0,u.layerLookupMap[e])()}(h),d}(e.url),t={...e.properties,url:e.url};if(!n.sublayerIds)return null!=n.layerOrTableId&&(t.layerId=n.layerOrTableId,t.sourceJSON=n.sourceJSON),new n.Constructor(t);const l=new(0,(await new Promise((function(e,n){Promise.resolve().then((function(){var n=[a(19461)];(function(n){e(function(e){return Object.freeze({__proto__:null,default:e})}(n))}).apply(null,n)})).catch(n.bind(this))}))).default)({title:n.parsedUrl.title});return function(e,n,a){function t(e,t){const i={...a,layerId:e,sublayerTitleMode:"service-name"};return r.isSome(t)&&(i.sourceJSON=t),new n.Constructor(i)}n.sublayerIds.forEach((a=>{const r=t(a,o(n.sublayerInfos,a));e.add(r)})),n.tableIds.forEach((a=>{const r=t(a,o(n.tableInfos,a));e.tables.add(r)}))}(l,n,t),l},Object.defineProperty(t,"__esModule",{value:!0})}.apply(n,t))||(e.exports=r)},80353:(e,n,a)=>{var t;void 0===(t=function(e,t){"use strict";function r(e){return Object.freeze({__proto__:null,default:e})}const i={BingMapsLayer:async()=>(await new Promise((function(e,n){a.e(1134).then((function(){var n=[a(21134)];(function(n){e(r(n))}).apply(null,n)})).catch(n.bind(this))}))).default,BuildingSceneLayer:async()=>(await new Promise((function(e,n){Promise.all([a.e(4127),a.e(9887)]).then((function(){var n=[a(49887)];(function(n){e(r(n))}).apply(null,n)})).catch(n.bind(this))}))).default,CSVLayer:async()=>(await new Promise((function(e,n){a.e(3805).then((function(){var n=[a(93805)];(function(n){e(r(n))}).apply(null,n)})).catch(n.bind(this))}))).default,ElevationLayer:async()=>(await new Promise((function(e,n){a.e(6839).then((function(){var n=[a(56839)];(function(n){e(r(n))}).apply(null,n)})).catch(n.bind(this))}))).default,FeatureLayer:async()=>(await new Promise((function(e,n){Promise.resolve().then((function(){var n=[a(98757)];(function(n){e(r(n))}).apply(null,n)})).catch(n.bind(this))}))).default,GroupLayer:async()=>(await new Promise((function(e,n){Promise.resolve().then((function(){var n=[a(19461)];(function(n){e(r(n))}).apply(null,n)})).catch(n.bind(this))}))).default,GeoRSSLayer:async()=>(await new Promise((function(e,n){a.e(2670).then((function(){var n=[a(32670)];(function(n){e(r(n))}).apply(null,n)})).catch(n.bind(this))}))).default,ImageryLayer:async()=>(await new Promise((function(e,n){Promise.all([a.e(6117),a.e(9805),a.e(587),a.e(9895)]).then((function(){var n=[a(59895)];(function(n){e(r(n))}).apply(null,n)})).catch(n.bind(this))}))).default,ImageryTileLayer:async()=>(await new Promise((function(e,n){Promise.all([a.e(6117),a.e(9805),a.e(587),a.e(2384)]).then((function(){var n=[a(42384)];(function(n){e(r(n))}).apply(null,n)})).catch(n.bind(this))}))).default,IntegratedMeshLayer:async()=>(await new Promise((function(e,n){Promise.all([a.e(4127),a.e(2435)]).then((function(){var n=[a(2435)];(function(n){e(r(n))}).apply(null,n)})).catch(n.bind(this))}))).default,KMLLayer:async()=>(await new Promise((function(e,n){a.e(3510).then((function(){var n=[a(73510)];(function(n){e(r(n))}).apply(null,n)})).catch(n.bind(this))}))).default,MapImageLayer:async()=>(await new Promise((function(e,n){Promise.all([a.e(5539),a.e(3983)]).then((function(){var n=[a(23983)];(function(n){e(r(n))}).apply(null,n)})).catch(n.bind(this))}))).default,MapNotesLayer:async()=>(await new Promise((function(e,n){a.e(6034).then((function(){var n=[a(76034)];(function(n){e(r(n))}).apply(null,n)})).catch(n.bind(this))}))).default,OpenStreetMapLayer:async()=>(await new Promise((function(e,n){a.e(1244).then((function(){var n=[a(71244)];(function(n){e(r(n))}).apply(null,n)})).catch(n.bind(this))}))).default,PointCloudLayer:async()=>(await new Promise((function(e,n){a.e(6158).then((function(){var n=[a(96158)];(function(n){e(r(n))}).apply(null,n)})).catch(n.bind(this))}))).default,RouteLayer:async()=>(await new Promise((function(e,n){a.e(6788).then((function(){var n=[a(16788)];(function(n){e(r(n))}).apply(null,n)})).catch(n.bind(this))}))).default,SceneLayer:async()=>(await new Promise((function(e,n){Promise.all([a.e(4127),a.e(4145)]).then((function(){var n=[a(54145)];(function(n){e(r(n))}).apply(null,n)})).catch(n.bind(this))}))).default,StreamLayer:async()=>(await new Promise((function(e,n){a.e(4222).then((function(){var n=[a(41361)];(function(n){e(r(n))}).apply(null,n)})).catch(n.bind(this))}))).default,TileLayer:async()=>(await new Promise((function(e,n){Promise.all([a.e(5539),a.e(9445)]).then((function(){var n=[a(39445)];(function(n){e(r(n))}).apply(null,n)})).catch(n.bind(this))}))).default,UnknownLayer:async()=>(await new Promise((function(e,n){a.e(9372).then((function(){var n=[a(59372)];(function(n){e(r(n))}).apply(null,n)})).catch(n.bind(this))}))).default,UnsupportedLayer:async()=>(await new Promise((function(e,n){a.e(5218).then((function(){var n=[a(75218)];(function(n){e(r(n))}).apply(null,n)})).catch(n.bind(this))}))).default,VectorTileLayer:async()=>(await new Promise((function(e,n){Promise.all([a.e(2922),a.e(5739)]).then((function(){var n=[a(17944)];(function(n){e(r(n))}).apply(null,n)})).catch(n.bind(this))}))).default,WebTileLayer:async()=>(await new Promise((function(e,n){a.e(9646).then((function(){var n=[a(49646)];(function(n){e(r(n))}).apply(null,n)})).catch(n.bind(this))}))).default,WMSLayer:async()=>(await new Promise((function(e,n){a.e(9900).then((function(){var n=[a(19900)];(function(n){e(r(n))}).apply(null,n)})).catch(n.bind(this))}))).default,WMTSLayer:async()=>(await new Promise((function(e,n){a.e(9042).then((function(){var n=[a(89042)];(function(n){e(r(n))}).apply(null,n)})).catch(n.bind(this))}))).default};n.layerLookupMap=i,Object.defineProperty(t,"__esModule",{value:!0})}.apply(n,[a,n]))||(e.exports=t)}}]);