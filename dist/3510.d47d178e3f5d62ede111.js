(self.webpackChunkh2oc=self.webpackChunkh2oc||[]).push([[3510],{24088:(e,t,r)=>{var n,o;n=[t,r(3718),r(12997),r(18167)],void 0===(o=function(e,r,n,o){"use strict";function i(e=h){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function s(e,t,r,n,o,s,a=i()){return a[0]=e,a[1]=t,a[2]=r,a[3]=n,a[4]=o,a[5]=s,a}function a(e){return e[0]>=e[3]?0:e[3]-e[0]}function l(e){return e[1]>=e[4]?0:e[4]-e[1]}function u(e){return e[2]>=e[5]?0:e[5]-e[2]}function c(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])}function p(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function y(e){return 6===e.length}const f=[1/0,1/0,1/0,-1/0,-1/0,-1/0],h=[0,0,0,0,0,0],d=i();t.NEGATIVE_INFINITY=f,t.POSITIVE_INFINITY=[-1/0,-1/0,-1/0,1/0,1/0,1/0],t.ZERO=h,t.allFinite=function(e){for(let t=0;t<6;t++)if(!isFinite(e[t]))return!1;return!0},t.center=function(e,t=[0,0,0]){return t[0]=e[0]+a(e)/2,t[1]=e[1]+l(e)/2,t[2]=e[2]+u(e)/2,t},t.contains=function(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[3]<=e[3]&&t[4]<=e[4]&&t[5]<=e[5]},t.containsPoint=function(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]},t.containsPointWithMargin=function(e,t,r){return t[0]>=e[0]-r&&t[1]>=e[1]-r&&t[2]>=e[2]-r&&t[0]<=e[3]+r&&t[1]<=e[4]+r&&t[2]<=e[5]+r},t.create=i,t.depth=l,t.diameter=function(e){const t=a(e),r=u(e),n=l(e);return Math.sqrt(t*t+r*r+n*n)},t.empty=function(e){return e?p(e,f):i(f)},t.equals=function(e,t,n){if(r.isNone(e)||r.isNone(t))return e===t;if(!y(e)||!y(t))return!1;if(n){for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1}else for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},t.expandWithAABB=function(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])},t.expandWithBuffer=function(e,t,r=0,n=t.length/3){let o=e[0],i=e[1],s=e[2],a=e[3],l=e[4],u=e[5];for(let e=0;e<n;e++)o=Math.min(o,t[r+3*e]),i=Math.min(i,t[r+3*e+1]),s=Math.min(s,t[r+3*e+2]),a=Math.max(a,t[r+3*e]),l=Math.max(l,t[r+3*e+1]),u=Math.max(u,t[r+3*e+2]);e[0]=o,e[1]=i,e[2]=s,e[3]=a,e[4]=l,e[5]=u},t.expandWithNestedArray=function(e,t,r){const n=t.length;let o=e[0],i=e[1],s=e[2],a=e[3],l=e[4],u=e[5];if(r)for(let e=0;e<n;e++){const r=t[e];o=Math.min(o,r[0]),i=Math.min(i,r[1]),s=Math.min(s,r[2]),a=Math.max(a,r[0]),l=Math.max(l,r[1]),u=Math.max(u,r[2])}else for(let e=0;e<n;e++){const r=t[e];o=Math.min(o,r[0]),i=Math.min(i,r[1]),a=Math.max(a,r[0]),l=Math.max(l,r[1])}e[0]=o,e[1]=i,e[2]=s,e[3]=a,e[4]=l,e[5]=u},t.expandWithOffset=function(e,t,r,n){e[0]=Math.min(e[0],e[0]+t),e[3]=Math.max(e[3],e[3]+t),e[1]=Math.min(e[1],e[1]+r),e[4]=Math.max(e[4],e[4]+r),e[2]=Math.min(e[2],e[2]+n),e[5]=Math.max(e[5],e[5]+n)},t.expandWithRect=function(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[3]=Math.max(e[3],t[2]),e[4]=Math.max(e[4],t[3])},t.expandWithVec3=function(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])},t.fromExtent=function(e,t=i()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.zmin,t[3]=e.xmax,t[4]=e.ymax,t[5]=e.zmax,t},t.fromMinMax=function(e,t,r=i()){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=t[0],r[4]=t[1],r[5]=t[2],r},t.fromRect=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e},t.fromValues=s,t.getMax=function(e,t){return t[0]=e[3],t[1]=e[4],t[2]=e[5],t},t.getMin=function(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},t.height=u,t.intersects=c,t.intersectsClippingArea=function(e,t){return!!r.isNone(t)||c(e,t)},t.is=y,t.isPoint=function(e){return 0===a(e)&&0===l(e)&&0===u(e)},t.maximumDimension=function(e){return Math.max(a(e),u(e),l(e))},t.offset=function(e,t,r,n,o=e){return o[0]=e[0]+t,o[1]=e[1]+r,o[2]=e[2]+n,o[3]=e[3]+t,o[4]=e[4]+r,o[5]=e[5]+n,o},t.scale=function(e,t,r=e){const n=e[0]+a(e)/2,o=e[1]+l(e)/2,i=e[2]+u(e)/2;return r[0]=n+(e[0]-n)*t,r[1]=o+(e[1]-o)*t,r[2]=i+(e[2]-i)*t,r[3]=n+(e[3]-n)*t,r[4]=o+(e[4]-o)*t,r[5]=i+(e[5]-i)*t,r},t.set=p,t.setMax=function(e,t,r=e){return r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2]),e},t.setMin=function(e,t,r=e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==e&&(r[3]=e[3],r[4]=e[4],r[5]=e[5]),r},t.size=function(e,t=[0,0,0]){return t[0]=a(e),t[1]=l(e),t[2]=u(e),t},t.toExtent=function(e,t){const r=isFinite(e[2])||isFinite(e[5]);return new n(r?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})},t.toRect=function(e,t){return t||(t=o.create()),t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t},t.width=a,t.wrap=function(e,t,r,n,o,i){return s(e,t,r,n,o,i,d)},Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,n))||(e.exports=o)},73510:(e,t,r)=>{var n,o;n=[r(58797),r(11285),r(74637),r(3718),r(73462),r(67059),r(26475),r(59376),r(99752),r(25179),r(4037),r(51916),r(18377),r(9720),r(23084),r(12997),r(26016),r(82438),r(24189),r(95791),r(64393),r(8336),r(23704),r(87842),r(52058),r(40162),r(93511),r(97953),r(23578)],void 0===(o=function(e,t,r,n,o,i,s,a,l,u,c,p,y,f,h,d,m,b,_,x,v,g,M,S,I,E,w,O,N){"use strict";const k=["kml","xml"];let F=function(t){function r(...r){var n;return(n=t.call(this,...r)||this)._visibleFolders=[],n.allSublayers=new _({root:e._assertThisInitialized(n),rootCollectionNames:["sublayers"],getChildrenFunction:e=>e.sublayers}),n.outSpatialReference=h.WGS84,n.path=null,n.legendEnabled=!1,n.operationalLayerType="KML",n.sublayers=null,n.type="kml",n.url=null,n}e._inheritsLoose(r,t);var o=r.prototype;return o.initialize=function(){this.watch("sublayers",((e,t)=>{t&&t.forEach((e=>{e.parent=null,e.layer=null})),e&&e.forEach((e=>{e.parent=this,e.layer=this}))}),!0),this.on("sublayer-update",(()=>this.notifyChange("fullExtent")))},o.normalizeCtorArgs=function(e,t){return"string"==typeof e?{url:e,...t}:e},o.readSublayersFromItemOrWebMap=function(e,t){this._visibleFolders=t.visibleFolders},o.readSublayers=function(e,t,r){return O.sublayersFromJSON(N,t,r,this._visibleFolders)},o.writeSublayers=function(e,t){const r=[],n=e.toArray();for(;n.length;){const e=n[0];e.networkLink||(e.visible&&r.push(e.id),e.sublayers&&n.push(...e.sublayers.toArray())),n.shift()}t.visibleFolders=r},o.load=function(e){const t=n.isSome(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["KML"]},e).then((()=>this._fetchService(t)))),f.resolve(this)},o._fetchService=async function(e){const t=await f.resolve().then((()=>this.resourceInfo?{ssl:!1,data:this.resourceInfo}:O.fetchService(this.url,this.outSpatialReference,this.refreshInterval,e))),r=O.parseKML(t.data);r&&this.read(r,{origin:"service"})},o._recomputeFullExtent=function(){let e=null;this.extent&&(e=this.extent.clone());const t=r=>{if(r.sublayers)for(const n of r.sublayers.items)t(n),n.visible&&n.fullExtent&&(e?e.union(n.fullExtent):e=n.fullExtent.clone())};return t(this),e},e._createClass(r,[{key:"title",get:function(){const e=this._get("title");return e&&"defaults"!==this.originOf("title")?e:this.url?c.getFilename(this.url,k)||"KML":e||""},set:function(e){this._set("title",e)}},{key:"visibleSublayers",get:function(){const e=this.sublayers,t=[],r=e=>{e.visible&&(t.push(e),e.sublayers&&e.sublayers.forEach(r))};return e&&e.forEach(r),t}},{key:"fullExtent",get:function(){return this._recomputeFullExtent()}}]),r}(S.BlendLayer(E.RefreshableLayer(w.ScaleRangeLayer(M.OperationalLayer(I.PortalLayer(v.MultiOriginJSONMixin(x)))))));return t.__decorate([s.property({readOnly:!0})],F.prototype,"allSublayers",void 0),t.__decorate([s.property({type:h})],F.prototype,"outSpatialReference",void 0),t.__decorate([s.property({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],F.prototype,"path",void 0),t.__decorate([s.property({readOnly:!0,json:{read:!1,write:!1}})],F.prototype,"legendEnabled",void 0),t.__decorate([s.property({type:["show","hide","hide-children"]})],F.prototype,"listMode",void 0),t.__decorate([s.property({type:["KML"]})],F.prototype,"operationalLayerType",void 0),t.__decorate([s.property({type:b.ofType(N),json:{write:{ignoreOrigin:!0}}})],F.prototype,"sublayers",void 0),t.__decorate([a.reader(["web-map","portal-item"],"sublayers",["visibleFolders"])],F.prototype,"readSublayersFromItemOrWebMap",null),t.__decorate([a.reader("service","sublayers",["sublayers"])],F.prototype,"readSublayers",null),t.__decorate([u.writer("sublayers")],F.prototype,"writeSublayers",null),t.__decorate([s.property({readOnly:!0,json:{read:!1}})],F.prototype,"type",void 0),t.__decorate([s.property({json:{origins:{"web-map":{read:{source:"title"}}},write:{ignoreOrigin:!0}},dependsOn:["url","parsedUrl"]})],F.prototype,"title",null),t.__decorate([s.property(g.url)],F.prototype,"url",void 0),t.__decorate([s.property({readOnly:!0,dependsOn:["sublayers"]})],F.prototype,"visibleSublayers",null),t.__decorate([s.property({type:d})],F.prototype,"extent",void 0),t.__decorate([s.property({dependsOn:["extent"]})],F.prototype,"fullExtent",null),F=t.__decorate([l.subclass("esri.layers.KMLLayer")],F),F}.apply(t,n))||(e.exports=o)},23578:(e,t,r)=>{var n,o;n=[r(58797),r(11285),r(74637),r(3718),r(73462),r(67059),r(26475),r(37055),r(59376),r(99752),r(4037),r(51916),r(18377),r(9720),r(56162),r(12997),r(26016),r(59286),r(82438),r(88074),r(69788),r(97953)],void 0===(o=function(e,t,r,n,o,i,s,a,l,u,c,p,y,f,h,d,m,b,_,x,v,g){"use strict";var M;let S=M=function(t){function r(){var e;return(e=t.apply(this,arguments)||this)._sublayersHandles=null,e.description=null,e.id=null,e.networkLink=null,e.title=null,e.sourceJSON=null,e.fullExtent=null,e}e._inheritsLoose(r,t);var o=r.prototype;return o.initialize=function(){v.whenOnce(this,"networkLink").then((()=>v.whenTrueOnce(this,"visible"))).then((()=>this.load()))},o.load=function(e){if(!this.networkLink)return;const t=n.isSome(e)?e.signal:null,r=this._fetchService(this._get("networkLink").href,t).then((e=>{const t=g.computeExtent(e.sublayers);this.fullExtent=d.fromJSON(t),this.sourceJSON=e;const r=i.ensureType(_.ofType(M),g.sublayersFromJSON(M,e));this.sublayers?this.sublayers.addMany(r):this.sublayers=r,this.layer.emit("sublayer-update"),this.layer&&this.layer.notifyChange("visibleSublayers")}));return this.addResolvingPromise(r),f.resolve(this)},o.castSublayers=function(e){return i.ensureType(_.ofType(M),e)},o.readVisible=function(e,t){return!!t.visibility},o._fetchService=function(e,t){return g.fetchService(e,this.layer.outSpatialReference,this.layer.refreshInterval,t).then((e=>g.parseKML(e.data)))},e._createClass(r,[{key:"sublayers",set:function(e){const t=this._get("sublayers");t&&(t.forEach((e=>{e.parent=null,e.layer=null})),this._sublayersHandles.forEach((e=>e.remove())),this._sublayersHandles=null),e&&(e.forEach((e=>{e.parent=this,e.layer=this.layer})),this._sublayersHandles=[e.on("after-add",(({item:e})=>{e.parent=this,e.layer=this.layer})),e.on("after-remove",(({item:e})=>{e.parent=null,e.layer=null}))]),this._set("sublayers",e)}},{key:"visible",get:function(){return this._get("visible")},set:function(e){this._get("visible")!==e&&(this._set("visible",e),this.layer&&this.layer.notifyChange("visibleSublayers"))}},{key:"layer",set:function(e){this._set("layer",e),this.sublayers&&this.sublayers.forEach((t=>t.layer=e))}}]),r}(b.EventedMixin(h.JSONSupportMixin(x)));return t.__decorate([s.property()],S.prototype,"description",void 0),t.__decorate([s.property()],S.prototype,"id",void 0),t.__decorate([s.property({readOnly:!0,value:null})],S.prototype,"networkLink",void 0),t.__decorate([s.property({json:{write:{allowNull:!0}}})],S.prototype,"parent",void 0),t.__decorate([s.property({value:null,json:{write:{allowNull:!0}}})],S.prototype,"sublayers",null),t.__decorate([a.cast("sublayers")],S.prototype,"castSublayers",null),t.__decorate([s.property({value:null,json:{read:{source:"name"}}})],S.prototype,"title",void 0),t.__decorate([s.property({value:!0})],S.prototype,"visible",null),t.__decorate([l.reader("visible",["visibility"])],S.prototype,"readVisible",null),t.__decorate([s.property()],S.prototype,"sourceJSON",void 0),t.__decorate([s.property({value:null})],S.prototype,"layer",null),t.__decorate([s.property({type:d})],S.prototype,"fullExtent",void 0),S=M=t.__decorate([u.subclass("esri.layers.support.KMLSublayer")],S),S}.apply(t,n))||(e.exports=o)},97953:(e,t,r)=>{var n,o;n=[t,r(92231),r(37578),r(4037),r(23084),r(63629),r(88710),r(13032),r(40810),r(25519),r(57517),r(24088)],void 0===(o=function(e,r,n,o,i,s,a,l,u,c,p,y){"use strict";const f={esriGeometryPoint:"points",esriGeometryPolyline:"polylines",esriGeometryPolygon:"polygons"};function h(e,t,r){r.forEach((r=>{e.set(r.attributes[t],r)}))}function d(e){const t=y.create(),r=y.create(y.NEGATIVE_INFINITY);for(const n of e){if(n.polygons&&n.polygons.featureSet&&n.polygons.featureSet.features)for(const e of n.polygons.featureSet.features)s.getBoundsXYZ(t,e.geometry),y.expandWithAABB(r,t);if(n.polylines&&n.polylines.featureSet&&n.polylines.featureSet.features)for(const e of n.polylines.featureSet.features)s.getBoundsXYZ(t,e.geometry),y.expandWithAABB(r,t);if(n.points&&n.points.featureSet&&n.points.featureSet.features)for(const e of n.points.featureSet.features)s.getBoundsXYZ(t,e.geometry),y.expandWithAABB(r,t);if(n.mapImages)for(const e of n.mapImages)s.getBoundsXYZ(t,e.extent),y.expandWithAABB(r,t)}return y.equals(r,y.NEGATIVE_INFINITY)?null:{xmin:r[0],ymin:r[1],zmin:r[2],xmax:r[3],ymax:r[4],zmax:r[5],spatialReference:i.WGS84}}t.computeExtent=d,t.fetchService=function(e,t,r,i){const s=l.id&&l.id.findCredential(e);e=o.addQueryParameters(e,{token:s&&s.token});const a=n.kmlServiceUrl;return u(a,{query:{url:e,model:"simple",folders:"",refresh:0!==r||void 0,outSR:JSON.stringify(t)},responseType:"json",signal:i})},t.getGraphics=async function(e){const t=p.fromJSON(e.featureSet).features,r=e.layerDefinition,n=c.fromJSON(r.drawingInfo.renderer),o=a.fromJSON(e.popupInfo),i=[];for(const e of t){const t=await n.getSymbolAsync(e);e.symbol=t,e.popupTemplate=o,e.visible=!0,i.push(e)}return i},t.parseKML=function(e){const t=e.folders||[],n=t.slice(),o=new Map,i=new Map,s=new Map,a=new Map,l=new Map,u={esriGeometryPoint:i,esriGeometryPolyline:s,esriGeometryPolygon:a};(e.featureCollection&&e.featureCollection.layers||[]).forEach((e=>{const t=r.clone(e);t.featureSet.features=[];const n=e.featureSet.geometryType;o.set(n,t);const l=e.layerDefinition.objectIdField;"esriGeometryPoint"===n?h(i,l,e.featureSet.features):"esriGeometryPolyline"===n?h(s,l,e.featureSet.features):"esriGeometryPolygon"===n&&h(a,l,e.featureSet.features)})),e.groundOverlays&&e.groundOverlays.forEach((e=>{l.set(e.id,e)})),t.forEach((t=>{t.networkLinkIds.forEach((r=>{const o=function(e,t,r){const n=function(e,t){let r;return t.some((t=>t.id===e&&(r=t,!0))),r}(e,r);return n&&(n.parentFolderId=t,n.networkLink=n),n}(r,t.id,e.networkLinks);o&&n.push(o)}))})),n.forEach((e=>{e.featureInfos&&(e.points=r.clone(o.get("esriGeometryPoint")),e.polylines=r.clone(o.get("esriGeometryPolyline")),e.polygons=r.clone(o.get("esriGeometryPolygon")),e.mapImages=[],e.featureInfos.map((t=>{switch(t.type){case"esriGeometryPoint":case"esriGeometryPolyline":case"esriGeometryPolygon":{const r=u[t.type].get(t.id);r&&e[f[t.type]].featureSet.features.push(r);break}case"GroundOverlay":{const r=l.get(t.id);r&&e.mapImages.push(r);break}}})),e.fullExtent=d([e]))}));const c=d(n);return{folders:t,sublayers:n,extent:c}},t.sublayersFromJSON=function(e,t,r=null,n=[]){const o=[],i={},s=t.sublayers,a=t.folders.map((e=>e.id));return s.forEach((t=>{const s=new e;if(r?s.read(t,r):s.read(t),n.length&&a.indexOf(s.id)>-1&&(s.visible=-1!==n.indexOf(s.id)),i[t.id]=s,null!=t.parentFolderId&&-1!==t.parentFolderId){const e=i[t.parentFolderId];e.sublayers||(e.sublayers=[]),e.sublayers.unshift(s)}else o.unshift(s)})),o},Object.defineProperty(e,"__esModule",{value:!0})}.apply(t,n))||(e.exports=o)}}]);